var Pa=Object.defineProperty;var Sa=(r,i,u)=>i in r?Pa(r,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[i]=u;var uo=(r,i,u)=>Sa(r,typeof i!="symbol"?i+"":i,u);import{r as jo,f as Ta,o as Da,z as $a,A as Ia,t as Ko,s as On,n as Jn,c as Lt,B as Fo,C as $r,D as Ir,i as Bo,e as Ra,v as Ma,w as ja,x as Ka,y as Fa,b as Ba}from"../chunks/scheduler.seBsrkbn.js";import{q as Se,u as _e,S as er,i as tr,p as Rr,g as Ge,d as le,e as Ae,s as Ee,t as at,c as Pe,a as Re,f as Oe,b as st,C as rn,m as ge,D as Vt,E as ot,h as Q,j as xn,w as Cn,r as An,F as Ci,G as co,y as Fe,l as Un,z as Be,A as Ne,B as qe,H as Na,k as qa,v as _i}from"../chunks/index.Dwxb9V0m.js";import{p as No}from"../chunks/stores.pTdsaA1J.js";import{c as lo,g as La}from"../chunks/_commonjsHelpers.Cpj98o6Y.js";import{d as Nr,w as kn,r as Yn,a as Va}from"../chunks/entry.Xx4035r0.js";function fo(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Ha(r,i){Se(r,1,1,()=>{i.delete(r.key)})}function za(r,i,u,a,l,d,h,v,m,C,I,R){let j=r.length,T=d.length,S=j;const K={};for(;S--;)K[r[S].key]=S;const A=[],B=new Map,ee=new Map,V=[];for(S=T;S--;){const q=R(l,d,S),de=u(q);let ae=h.get(de);ae?V.push(()=>ae.p(q,i)):(ae=C(de,q),ae.c()),B.set(de,A[S]=ae),de in K&&ee.set(de,Math.abs(S-K[de]))}const ie=new Set,oe=new Set;function ue(q){_e(q,1),q.m(v,I),h.set(q.key,q),I=q.first,T--}for(;j&&T;){const q=A[T-1],de=r[j-1],ae=q.key,ye=de.key;q===de?(I=q.first,j--,T--):B.has(ye)?!h.has(ae)||ie.has(ae)?ue(q):oe.has(ye)?j--:ee.get(ae)>ee.get(ye)?(oe.add(ae),ue(q)):(ie.add(ye),j--):(m(de,h),j--)}for(;j--;){const q=r[j];B.has(q.key)||m(q,h)}for(;T;)ue(A[T-1]);return jo(V),A}function Mr(r,i){const u={},a={},l={$$scope:1};let d=r.length;for(;d--;){const h=r[d],v=i[d];if(v){for(const m in h)m in v||(a[m]=1);for(const m in v)l[m]||(u[m]=v[m],l[m]=1);r[d]=v}else for(const m in h)l[m]=1}for(const h in a)h in u||(u[h]=void 0);return u}var qo={exports:{}};(function(r,i){(function(u,a){r.exports=a()})(lo,function(){var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])})(e,t)},a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function l(e,t,n){for(var o,s=0,c=t.length;s<c;s++)!o&&s in t||((o=o||Array.prototype.slice.call(t,0,s))[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:lo,h=Object.keys,v=Array.isArray;function m(e,t){return typeof t!="object"||h(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||d.Promise||(d.Promise=Promise);var C=Object.getPrototypeOf,I={}.hasOwnProperty;function R(e,t){return I.call(e,t)}function j(e,t){typeof t=="function"&&(t=t(C(e))),(typeof Reflect>"u"?h:Reflect.ownKeys)(t).forEach(function(n){S(e,n,t[n])})}var T=Object.defineProperty;function S(e,t,n,o){T(e,t,m(n&&R(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},o))}function K(e){return{from:function(t){return e.prototype=Object.create(t.prototype),S(e.prototype,"constructor",e),{extend:j.bind(null,e.prototype)}}}}var A=Object.getOwnPropertyDescriptor,B=[].slice;function ee(e,t,n){return B.call(e,t,n)}function V(e,t){return t(e)}function ie(e){if(!e)throw new Error("Assertion Failed")}function oe(e){d.setImmediate?setImmediate(e):setTimeout(e,0)}function ue(e,t){if(typeof t=="string"&&R(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],o=0,s=t.length;o<s;++o){var c=ue(e,t[o]);n.push(c)}return n}var f=t.indexOf(".");if(f!==-1){var p=e[t.substr(0,f)];return p==null?void 0:ue(p,t.substr(f+1))}}function q(e,t,n){if(e&&t!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){ie(typeof n!="string"&&"length"in n);for(var o=0,s=t.length;o<s;++o)q(e,t[o],n[o])}else{var c,f,p=t.indexOf(".");p!==-1?(c=t.substr(0,p),(f=t.substr(p+1))===""?n===void 0?v(e)&&!isNaN(parseInt(c))?e.splice(c,1):delete e[c]:e[c]=n:q(p=!(p=e[c])||!R(e,c)?e[c]={}:p,f,n)):n===void 0?v(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function de(e){var t,n={};for(t in e)R(e,t)&&(n[t]=e[t]);return n}var ae=[].concat;function ye(e){return ae.apply([],e)}var Tt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ye([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return d[e]}),pe=new Set(Tt.map(function(e){return d[e]})),Y=null;function L(e){return Y=new WeakMap,e=function t(n){if(!n||typeof n!="object")return n;var o=Y.get(n);if(o)return o;if(v(n)){o=[],Y.set(n,o);for(var s=0,c=n.length;s<c;++s)o.push(t(n[s]))}else if(pe.has(n.constructor))o=n;else{var f,p=C(n);for(f in o=p===Object.prototype?{}:Object.create(p),Y.set(n,o),n)R(n,f)&&(o[f]=t(n[f]))}return o}(e),Y=null,e}var se={}.toString;function he(e){return se.call(e).slice(8,-1)}var te=typeof Symbol<"u"?Symbol.iterator:"@@iterator",J=typeof te=="symbol"?function(e){var t;return e!=null&&(t=e[te])&&t.apply(e)}:function(){return null};function ce(e,t){return t=e.indexOf(t),0<=t&&e.splice(t,1),0<=t}var Z={};function be(e){var t,n,o,s;if(arguments.length===1){if(v(e))return e.slice();if(this===Z&&typeof e=="string")return[e];if(s=J(e)){for(n=[];!(o=s.next()).done;)n.push(o.value);return n}if(e==null)return[e];if(typeof(t=e.length)!="number")return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var we=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ye=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ht=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ye),Me={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Le(e,t){this.name=e,this.message=t}function gt(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,o,s){return s.indexOf(n)===o}).join(`
`)}function Xe(e,t,n,o){this.failures=t,this.failedKeys=o,this.successCount=n,this.message=gt(e,t)}function dt(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=gt(e,this.failures)}K(Le).from(Error).extend({toString:function(){return this.name+": "+this.message}}),K(Xe).from(Le),K(dt).from(Le);var nt=ht.reduce(function(e,t){return e[t]=t+"Error",e},{}),Dn=Le,ne=ht.reduce(function(e,t){var n=t+"Error";function o(s,c){this.name=n,s?typeof s=="string"?(this.message="".concat(s).concat(c?`
 `+c:""),this.inner=c||null):typeof s=="object"&&(this.message="".concat(s.name," ").concat(s.message),this.inner=s):(this.message=Me[t]||n,this.inner=null)}return K(o).from(Dn),e[t]=o,e},{});ne.Syntax=SyntaxError,ne.Type=TypeError,ne.Range=RangeError;var an=Ye.reduce(function(e,t){return e[t+"Error"]=ne[t],e},{}),ut=ht.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=ne[t]),e},{});function De(){}function rt(e){return e}function $n(e,t){return e==null||e===rt?t:function(n){return t(e(n))}}function Qe(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function In(e,t){return e===De?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var o=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var c=t.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?Qe(o,this.onsuccess):o),s&&(this.onerror=this.onerror?Qe(s,this.onerror):s),c!==void 0?c:n}}function bt(e,t){return e===De?t:function(){e.apply(this,arguments);var n=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Qe(n,this.onsuccess):n),o&&(this.onerror=this.onerror?Qe(o,this.onerror):o)}}function Rn(e,t){return e===De?t:function(n){var o=e.apply(this,arguments);m(n,o);var s=this.onsuccess,c=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?Qe(s,this.onsuccess):s),c&&(this.onerror=this.onerror?Qe(c,this.onerror):c),o===void 0?n===void 0?void 0:n:m(o,n)}}function wt(e,t){return e===De?t:function(){return t.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function _t(e,t){return e===De?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var o=this,s=arguments.length,c=new Array(s);s--;)c[s]=arguments[s];return n.then(function(){return t.apply(o,c)})}return t.apply(this,arguments)}}ut.ModifyError=Xe,ut.DexieError=Le,ut.BulkError=dt;var it=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Mn(e){it=e}var H={},Te=100,Tt=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,C(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,C(t),e]}(),Ye=Tt[0],ht=Tt[1],Tt=Tt[2],ht=ht&&ht.then,fe=Ye&&Ye.constructor,sn=!!Tt,Rt=function(e,t){Mt.push([e,t]),Yt&&(queueMicrotask(ia),Yt=!1)},un=!0,Yt=!0,xt=[],Gt=[],cn=rt,pt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:De,pgp:!1,env:{},finalize:De},re=pt,Mt=[],kt=0,Xt=[];function G(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=re;if(typeof e!="function"){if(e!==H)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&fn(this,this._value))}this._state=null,this._value=null,++t.ref,function n(o,s){try{s(function(c){if(o._state===null){if(c===o)throw new TypeError("A promise cannot be resolved with itself.");var f=o._lib&&hn();c&&typeof c.then=="function"?n(o,function(p,w){c instanceof G?c._then(p,w):c.then(p,w)}):(o._state=!0,o._value=c,Kn(o)),f&&pn()}},fn.bind(null,o))}catch(c){fn(o,c)}}(this,e)}var ln={get:function(){var e=re,t=sr;function n(o,s){var c=this,f=!e.global&&(e!==re||t!==sr),p=f&&!Kt(),w=new G(function(g,k){dn(c,new jn(Mi(o,e,f,p),Mi(s,e,f,p),g,k,e))});return this._consoleTask&&(w._consoleTask=this._consoleTask),w}return n.prototype=H,n},set:function(e){S(this,"then",e&&e.prototype===H?ln:{get:function(){return e},set:ln.set})}};function jn(e,t,n,o,s){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=o,this.psd=s}function fn(e,t){var n,o;Gt.push(t),e._state===null&&(n=e._lib&&hn(),t=cn(t),e._state=!1,e._value=t,o=e,xt.some(function(s){return s._value===o._value})||xt.push(o),Kn(e),n&&pn())}function Kn(e){var t=e._listeners;e._listeners=[];for(var n=0,o=t.length;n<o;++n)dn(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),kt===0&&(++kt,Rt(function(){--kt==0&&Lr()},[]))}function dn(e,t){if(e._state!==null){var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++kt,Rt(ra,[n,e,t])}else e._listeners.push(t)}function ra(e,t,n){try{var o,s=t._value;!t._state&&Gt.length&&(Gt=[]),o=it&&t._consoleTask?t._consoleTask.run(function(){return e(s)}):e(s),t._state||Gt.indexOf(s)!==-1||function(c){for(var f=xt.length;f;)if(xt[--f]._value===c._value)return xt.splice(f,1)}(t),n.resolve(o)}catch(c){n.reject(c)}finally{--kt==0&&Lr(),--n.psd.ref||n.psd.finalize()}}function ia(){Qt(pt,function(){hn()&&pn()})}function hn(){var e=un;return Yt=un=!1,e}function pn(){var e,t,n;do for(;0<Mt.length;)for(e=Mt,Mt=[],n=e.length,t=0;t<n;++t){var o=e[t];o[0].apply(null,o[1])}while(0<Mt.length);Yt=un=!0}function Lr(){var e=xt;xt=[],e.forEach(function(o){o._PSD.onunhandled.call(null,o._value,o)});for(var t=Xt.slice(0),n=t.length;n;)t[--n]()}function ir(e){return new G(H,!1,e)}function Ke(e,t){var n=re;return function(){var o=hn(),s=re;try{return Ft(n,!0),e.apply(this,arguments)}catch(c){t&&t(c)}finally{Ft(s,!1),o&&pn()}}}j(G.prototype,{then:ln,_then:function(e,t){dn(this,new jn(null,null,e,t,re))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=e,n=arguments[1];return typeof t=="function"?this.then(null,function(o){return(o instanceof t?n:ir)(o)}):this.then(null,function(o){return(o&&o.name===t?n:ir)(o)})},finally:function(e){return this.then(function(t){return G.resolve(e()).then(function(){return t})},function(t){return G.resolve(e()).then(function(){return ir(t)})})},timeout:function(e,t){var n=this;return e<1/0?new G(function(o,s){var c=setTimeout(function(){return s(new ne.Timeout(t))},e);n.then(o,s).finally(clearTimeout.bind(null,c))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(G.prototype,Symbol.toStringTag,"Dexie.Promise"),pt.env=Ri(),j(G,{all:function(){var e=be.apply(null,arguments).map(ur);return new G(function(t,n){e.length===0&&t([]);var o=e.length;e.forEach(function(s,c){return G.resolve(s).then(function(f){e[c]=f,--o||t(e)},n)})})},resolve:function(e){return e instanceof G?e:e&&typeof e.then=="function"?new G(function(t,n){e.then(t,n)}):new G(H,!0,e)},reject:ir,race:function(){var e=be.apply(null,arguments).map(ur);return new G(function(t,n){e.map(function(o){return G.resolve(o).then(t,n)})})},PSD:{get:function(){return re},set:function(e){return re=e}},totalEchoes:{get:function(){return sr}},newPSD:jt,usePSD:Qt,scheduler:{get:function(){return Rt},set:function(e){Rt=e}},rejectionMapper:{get:function(){return cn},set:function(e){cn=e}},follow:function(e,t){return new G(function(n,o){return jt(function(s,c){var f=re;f.unhandleds=[],f.onunhandled=c,f.finalize=Qe(function(){var p,w=this;p=function(){w.unhandleds.length===0?s():c(w.unhandleds[0])},Xt.push(function g(){p(),Xt.splice(Xt.indexOf(g),1)}),++kt,Rt(function(){--kt==0&&Lr()},[])},f.finalize),e()},t,n,o)})}}),fe&&(fe.allSettled&&S(G,"allSettled",function(){var e=be.apply(null,arguments).map(ur);return new G(function(t){e.length===0&&t([]);var n=e.length,o=new Array(n);e.forEach(function(s,c){return G.resolve(s).then(function(f){return o[c]={status:"fulfilled",value:f}},function(f){return o[c]={status:"rejected",reason:f}}).then(function(){return--n||t(o)})})})}),fe.any&&typeof AggregateError<"u"&&S(G,"any",function(){var e=be.apply(null,arguments).map(ur);return new G(function(t,n){e.length===0&&n(new AggregateError([]));var o=e.length,s=new Array(o);e.forEach(function(c,f){return G.resolve(c).then(function(p){return t(p)},function(p){s[f]=p,--o||n(new AggregateError(s))})})})}));var We={awaits:0,echoes:0,id:0},oa=0,or=[],ar=0,sr=0,aa=0;function jt(e,t,n,o){var s=re,c=Object.create(s);return c.parent=s,c.ref=0,c.global=!1,c.id=++aa,pt.env,c.env=sn?{Promise:G,PromiseProp:{value:G,configurable:!0,writable:!0},all:G.all,race:G.race,allSettled:G.allSettled,any:G.any,resolve:G.resolve,reject:G.reject}:{},t&&m(c,t),++s.ref,c.finalize=function(){--this.parent.ref||this.parent.finalize()},o=Qt(c,e,n,o),c.ref===0&&c.finalize(),o}function mn(){return We.id||(We.id=++oa),++We.awaits,We.echoes+=Te,We.id}function Kt(){return!!We.awaits&&(--We.awaits==0&&(We.id=0),We.echoes=We.awaits*Te,!0)}function ur(e){return We.echoes&&e&&e.constructor===fe?(mn(),e.then(function(t){return Kt(),t},function(t){return Kt(),Ve(t)})):e}function sa(){var e=or[or.length-1];or.pop(),Ft(e,!1)}function Ft(e,t){var n,o=re;(t?!We.echoes||ar++&&e===re:!ar||--ar&&e===re)||queueMicrotask(t?(function(s){++sr,We.echoes&&--We.echoes!=0||(We.echoes=We.awaits=We.id=0),or.push(re),Ft(s,!0)}).bind(null,e):sa),e!==re&&(re=e,o===pt&&(pt.env=Ri()),sn&&(n=pt.env.Promise,t=e.env,(o.global||e.global)&&(Object.defineProperty(d,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function Ri(){var e=d.Promise;return sn?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(d,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Qt(e,t,n,o,s){var c=re;try{return Ft(e,!0),t(n,o,s)}finally{Ft(c,!1)}}function Mi(e,t,n,o){return typeof e!="function"?e:function(){var s=re;n&&mn(),Ft(t,!0);try{return e.apply(this,arguments)}finally{Ft(s,!1),o&&queueMicrotask(Kt)}}}function Vr(e){Promise===fe&&We.echoes===0?ar===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+ht).indexOf("[native code]")===-1&&(mn=Kt=De);var Ve=G.reject,Jt="￿",St="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ji="String expected.",yn=[],cr="__dbnames",Hr="readonly",zr="readwrite";function Zt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Ki={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function lr(e){return typeof e!="string"||/\./.test(e)?function(t){return t}:function(t){return t[e]===void 0&&e in t&&delete(t=L(t))[e],t}}function Fi(){throw ne.Type()}function Ie(e,t){try{var n=Bi(e),o=Bi(t);if(n!==o)return n==="Array"?1:o==="Array"?-1:n==="binary"?1:o==="binary"?-1:n==="string"?1:o==="string"?-1:n==="Date"?1:o!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(s,c){for(var f=s.length,p=c.length,w=f<p?f:p,g=0;g<w;++g)if(s[g]!==c[g])return s[g]<c[g]?-1:1;return f===p?0:f<p?-1:1}(Ni(e),Ni(t));case"Array":return function(s,c){for(var f=s.length,p=c.length,w=f<p?f:p,g=0;g<w;++g){var k=Ie(s[g],c[g]);if(k!==0)return k}return f===p?0:f<p?-1:1}(e,t)}}catch{}return NaN}function Bi(e){var t=typeof e;return t!="object"?t:ArrayBuffer.isView(e)?"binary":(e=he(e),e==="ArrayBuffer"?"binary":e)}function Ni(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var qi=(je.prototype._trans=function(e,t,n){var o=this._tx||re.trans,s=this.name,c=it&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function f(g,k,y){if(!y.schema[s])throw new ne.NotFound("Table "+s+" not part of transaction");return t(y.idbtrans,y)}var p=hn();try{var w=o&&o.db._novip===this.db._novip?o===re.trans?o._promise(e,f,n):jt(function(){return o._promise(e,f,n)},{trans:o,transless:re.transless||re}):function g(k,y,E,b){if(k.idbdb&&(k._state.openComplete||re.letThrough||k._vip)){var x=k._createTransaction(y,E,k._dbSchema);try{x.create(),k._state.PR1398_maxLoop=3}catch(O){return O.name===nt.InvalidState&&k.isOpen()&&0<--k._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),k.close({disableAutoOpen:!1}),k.open().then(function(){return g(k,y,E,b)})):Ve(O)}return x._promise(y,function(O,_){return jt(function(){return re.trans=x,b(O,_,x)})}).then(function(O){if(y==="readwrite")try{x.idbtrans.commit()}catch{}return y==="readonly"?O:x._completion.then(function(){return O})})}if(k._state.openComplete)return Ve(new ne.DatabaseClosed(k._state.dbOpenError));if(!k._state.isBeingOpened){if(!k._state.autoOpen)return Ve(new ne.DatabaseClosed);k.open().catch(De)}return k._state.dbReadyPromise.then(function(){return g(k,y,E,b)})}(this.db,e,[this.name],f);return c&&(w._consoleTask=c,w=w.catch(function(g){return console.trace(g),Ve(g)})),w}finally{p&&pn()}},je.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):e==null?Ve(new ne.Type("Invalid argument to Table.get()")):this._trans("readonly",function(o){return n.core.get({trans:o,key:e}).then(function(s){return n.hook.reading.fire(s)})}).then(t)},je.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(v(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=h(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&t.every(function(k){return 0<=w.keyPath.indexOf(k)})){for(var g=0;g<t.length;++g)if(t.indexOf(w.keyPath[g])===-1)return!1;return!0}return!1}).sort(function(w,g){return w.keyPath.length-g.keyPath.length})[0];if(n&&this.db._maxKey!==Jt){var f=n.keyPath.slice(0,t.length);return this.where(f).equals(f.map(function(g){return e[g]}))}!n&&it&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var o=this.schema.idxByName,s=this.db._deps.indexedDB;function c(w,g){return s.cmp(w,g)===0}var p=t.reduce(function(E,g){var k=E[0],y=E[1],E=o[g],b=e[g];return[k||E,k||!E?Zt(y,E&&E.multi?function(x){return x=ue(x,g),v(x)&&x.some(function(O){return c(b,O)})}:function(x){return c(b,ue(x,g))}):y]},[null,null]),f=p[0],p=p[1];return f?this.where(f.name).equals(e[f.keyPath]).filter(p):n?this.filter(p):this.where(t).equals("")},je.prototype.filter=function(e){return this.toCollection().and(e)},je.prototype.count=function(e){return this.toCollection().count(e)},je.prototype.offset=function(e){return this.toCollection().offset(e)},je.prototype.limit=function(e){return this.toCollection().limit(e)},je.prototype.each=function(e){return this.toCollection().each(e)},je.prototype.toArray=function(e){return this.toCollection().toArray(e)},je.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},je.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,v(e)?"[".concat(e.join("+"),"]"):e))},je.prototype.reverse=function(){return this.toCollection().reverse()},je.prototype.mapToClass=function(e){var t,n=this.db,o=this.name;function s(){return t!==null&&t.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Fi&&(function(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function k(){this.constructor=w}u(w,g),w.prototype=g===null?Object.create(g):(k.prototype=g.prototype,new k)}(s,t=e),Object.defineProperty(s.prototype,"db",{get:function(){return n},enumerable:!1,configurable:!0}),s.prototype.table=function(){return o},e=s);for(var c=new Set,f=e.prototype;f;f=C(f))Object.getOwnPropertyNames(f).forEach(function(w){return c.add(w)});function p(w){if(!w)return w;var g,k=Object.create(e.prototype);for(g in w)if(!c.has(g))try{k[g]=w[g]}catch{}return k}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=p,this.hook("reading",p),e},je.prototype.defineClass=function(){return this.mapToClass(function(e){m(this,e)})},je.prototype.add=function(e,t){var n=this,o=this.schema.primKey,s=o.auto,c=o.keyPath,f=e;return c&&s&&(f=lr(c)(e)),this._trans("readwrite",function(p){return n.core.mutate({trans:p,type:"add",keys:t!=null?[t]:null,values:[f]})}).then(function(p){return p.numFailures?G.reject(p.failures[0]):p.lastResult}).then(function(p){if(c)try{q(e,c,p)}catch{}return p})},je.prototype.update=function(e,t){return typeof e!="object"||v(e)?this.where(":id").equals(e).modify(t):(e=ue(e,this.schema.primKey.keyPath),e===void 0?Ve(new ne.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t))},je.prototype.put=function(e,t){var n=this,o=this.schema.primKey,s=o.auto,c=o.keyPath,f=e;return c&&s&&(f=lr(c)(e)),this._trans("readwrite",function(p){return n.core.mutate({trans:p,type:"put",values:[f],keys:t!=null?[t]:null})}).then(function(p){return p.numFailures?G.reject(p.failures[0]):p.lastResult}).then(function(p){if(c)try{q(e,c,p)}catch{}return p})},je.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})}).then(function(n){return n.numFailures?G.reject(n.failures[0]):void 0})},je.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Ki})}).then(function(t){return t.numFailures?G.reject(t.failures[0]):void 0})},je.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(o){return o.map(function(s){return t.hook.reading.fire(s)})})})},je.prototype.bulkAdd=function(e,t,n){var o=this,s=Array.isArray(t)?t:void 0,c=(n=n||(s?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(f){var g=o.schema.primKey,p=g.auto,g=g.keyPath;if(g&&s)throw new ne.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var w=e.length,g=g&&p?e.map(lr(g)):e;return o.core.mutate({trans:f,type:"add",keys:s,values:g,wantResults:c}).then(function(x){var y=x.numFailures,E=x.results,b=x.lastResult,x=x.failures;if(y===0)return c?E:b;throw new dt("".concat(o.name,".bulkAdd(): ").concat(y," of ").concat(w," operations failed"),x)})})},je.prototype.bulkPut=function(e,t,n){var o=this,s=Array.isArray(t)?t:void 0,c=(n=n||(s?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(f){var g=o.schema.primKey,p=g.auto,g=g.keyPath;if(g&&s)throw new ne.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new ne.InvalidArgument("Arguments objects and keys must have the same length");var w=e.length,g=g&&p?e.map(lr(g)):e;return o.core.mutate({trans:f,type:"put",keys:s,values:g,wantResults:c}).then(function(x){var y=x.numFailures,E=x.results,b=x.lastResult,x=x.failures;if(y===0)return c?E:b;throw new dt("".concat(o.name,".bulkPut(): ").concat(y," of ").concat(w," operations failed"),x)})})},je.prototype.bulkUpdate=function(e){var t=this,n=this.core,o=e.map(function(f){return f.key}),s=e.map(function(f){return f.changes}),c=[];return this._trans("readwrite",function(f){return n.getMany({trans:f,keys:o,cache:"clone"}).then(function(p){var w=[],g=[];e.forEach(function(y,E){var b=y.key,x=y.changes,O=p[E];if(O){for(var _=0,P=Object.keys(x);_<P.length;_++){var D=P[_],$=x[D];if(D===t.schema.primKey.keyPath){if(Ie($,b)!==0)throw new ne.Constraint("Cannot update primary key in bulkUpdate()")}else q(O,D,$)}c.push(E),w.push(b),g.push(O)}});var k=w.length;return n.mutate({trans:f,type:"put",keys:w,values:g,updates:{keys:o,changeSpecs:s}}).then(function(y){var E=y.numFailures,b=y.failures;if(E===0)return k;for(var x=0,O=Object.keys(b);x<O.length;x++){var _,P=O[x],D=c[Number(P)];D!=null&&(_=b[P],delete b[P],b[D]=_)}throw new dt("".concat(t.name,".bulkUpdate(): ").concat(E," of ").concat(k," operations failed"),b)})})})},je.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(o){return t.core.mutate({trans:o,type:"delete",keys:e})}).then(function(f){var s=f.numFailures,c=f.lastResult,f=f.failures;if(s===0)return c;throw new dt("".concat(t.name,".bulkDelete(): ").concat(s," of ").concat(n," operations failed"),f)})},je);function je(){}function Fn(e){function t(f,p){if(p){for(var w=arguments.length,g=new Array(w-1);--w;)g[w-1]=arguments[w];return n[f].subscribe.apply(null,g),e}if(typeof f=="string")return n[f]}var n={};t.addEventType=c;for(var o=1,s=arguments.length;o<s;++o)c(arguments[o]);return t;function c(f,p,w){if(typeof f!="object"){var g;p=p||wt;var k={subscribers:[],fire:w=w||De,subscribe:function(y){k.subscribers.indexOf(y)===-1&&(k.subscribers.push(y),k.fire=p(k.fire,y))},unsubscribe:function(y){k.subscribers=k.subscribers.filter(function(E){return E!==y}),k.fire=k.subscribers.reduce(p,w)}};return n[f]=t[f]=k}h(g=f).forEach(function(y){var E=g[y];if(v(E))c(y,g[y][0],g[y][1]);else{if(E!=="asap")throw new ne.InvalidArgument("Invalid event config");var b=c(y,rt,function(){for(var x=arguments.length,O=new Array(x);x--;)O[x]=arguments[x];b.subscribers.forEach(function(_){oe(function(){_.apply(null,O)})})})}})}}function Bn(e,t){return K(t).from({prototype:e}),t}function vn(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Wr(e,t){e.filter=Zt(e.filter,t)}function Ur(e,t,n){var o=e.replayFilter;e.replayFilter=o?function(){return Zt(o(),t())}:t,e.justLimit=n&&!o}function fr(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new ne.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Li(e,t,n){var o=fr(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:o,range:e.range}})}function dr(e,t,n,o){var s=e.replayFilter?Zt(e.filter,e.replayFilter()):e.filter;if(e.or){var c={},f=function(p,w,g){var k,y;s&&!s(w,g,function(E){return w.stop(E)},function(E){return w.fail(E)})||((y=""+(k=w.primaryKey))=="[object ArrayBuffer]"&&(y=""+new Uint8Array(k)),R(c,y)||(c[y]=!0,t(p,w,g)))};return Promise.all([e.or._iterate(f,n),Vi(Li(e,o,n),e.algorithm,f,!e.keysOnly&&e.valueMapper)])}return Vi(Li(e,o,n),Zt(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Vi(e,t,n,o){var s=Ke(o?function(c,f,p){return n(o(c),f,p)}:n);return e.then(function(c){if(c)return c.start(function(){var f=function(){return c.continue()};t&&!t(c,function(p){return f=p},function(p){c.stop(p),f=De},function(p){c.fail(p),f=De})||s(c.value,c,function(p){return f=p}),f()})})}var Tt=Symbol(),Nn=(Hi.prototype.execute=function(e){if(this.add!==void 0){var t=this.add;if(v(t))return l(l([],v(e)?e:[],!0),t).sort();if(typeof t=="number")return(Number(e)||0)+t;if(typeof t=="bigint")try{return BigInt(e)+t}catch{return BigInt(0)+t}throw new TypeError("Invalid term ".concat(t))}if(this.remove!==void 0){var n=this.remove;if(v(n))return v(e)?e.filter(function(o){return!n.includes(o)}).sort():[];if(typeof n=="number")return Number(e)-n;if(typeof n=="bigint")try{return BigInt(e)-n}catch{return BigInt(0)-n}throw new TypeError("Invalid subtrahend ".concat(n))}return t=(t=this.replacePrefix)===null||t===void 0?void 0:t[0],t&&typeof e=="string"&&e.startsWith(t)?this.replacePrefix[1]+e.substring(t.length):e},Hi);function Hi(e){Object.assign(this,e)}var ua=($e.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Ve.bind(null,n.error)):n.table._trans("readonly",e).then(t)},$e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Ve.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},$e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=Zt(t.algorithm,e)},$e.prototype._iterate=function(e,t){return dr(this._ctx,e,t,this._ctx.table.core)},$e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&m(n,e),t._ctx=n,t},$e.prototype.raw=function(){return this._ctx.valueMapper=null,this},$e.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return dr(t,e,n,t.table.core)})},$e.prototype.count=function(e){var t=this;return this._read(function(n){var o=t._ctx,s=o.table.core;if(vn(o,!0))return s.count({trans:n,query:{index:fr(o,s.schema),range:o.range}}).then(function(f){return Math.min(f,o.limit)});var c=0;return dr(o,function(){return++c,!1},n,s).then(function(){return c})}).then(e)},$e.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),o=n[0],s=n.length-1;function c(w,g){return g?c(w[n[g]],g-1):w[o]}var f=this._ctx.dir==="next"?1:-1;function p(w,g){return w=c(w,s),g=c(g,s),w<g?-f:g<w?f:0}return this.toArray(function(w){return w.sort(p)}).then(t)},$e.prototype.toArray=function(e){var t=this;return this._read(function(n){var o=t._ctx;if(o.dir==="next"&&vn(o,!0)&&0<o.limit){var s=o.valueMapper,c=fr(o,o.table.core.schema);return o.table.core.query({trans:n,limit:o.limit,values:!0,query:{index:c,range:o.range}}).then(function(p){return p=p.result,s?p.map(s):p})}var f=[];return dr(o,function(p){return f.push(p)},n,o.table.core).then(function(){return f})},e)},$e.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,vn(t)?Ur(t,function(){var n=e;return function(o,s){return n===0||(n===1?--n:s(function(){o.advance(n),n=0}),!1)}}):Ur(t,function(){var n=e;return function(){return--n<0}})),this},$e.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ur(this._ctx,function(){var t=e;return function(n,o,s){return--t<=0&&o(s),0<=t}},!0),this},$e.prototype.until=function(e,t){return Wr(this._ctx,function(n,o,s){return!e(n.value)||(o(s),t)}),this},$e.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},$e.prototype.last=function(e){return this.reverse().first(e)},$e.prototype.filter=function(e){var t;return Wr(this._ctx,function(n){return e(n.value)}),(t=this._ctx).isMatch=Zt(t.isMatch,e),this},$e.prototype.and=function(e){return this.filter(e)},$e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},$e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},$e.prototype.desc=function(){return this.reverse()},$e.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,o){e(o.key,o)})},$e.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},$e.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(n,o){e(o.primaryKey,o)})},$e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(o,s){n.push(s.key)}).then(function(){return n}).then(e)},$e.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&vn(t,!0)&&0<t.limit)return this._read(function(o){var s=fr(t,t.table.core.schema);return t.table.core.query({trans:o,values:!1,limit:t.limit,query:{index:s,range:t.range}})}).then(function(o){return o.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(o,s){n.push(s.primaryKey)}).then(function(){return n}).then(e)},$e.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},$e.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},$e.prototype.lastKey=function(e){return this.reverse().firstKey(e)},$e.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var t={};return Wr(this._ctx,function(s){var o=s.primaryKey.toString(),s=R(t,o);return t[o]=!0,!s}),this},$e.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(o){var s,c,f;f=typeof e=="function"?e:(s=h(e),c=s.length,function(_){for(var P=!1,D=0;D<c;++D){var $=s[D],M=e[$],F=ue(_,$);M instanceof Nn?(q(_,$,M.execute(F)),P=!0):F!==M&&(q(_,$,M),P=!0)}return P});function p(_,$){var D=$.failures,$=$.numFailures;x+=_-$;for(var M=0,F=h(D);M<F.length;M++){var U=F[M];b.push(D[U])}}var w=n.table.core,g=w.schema.primaryKey,k=g.outbound,y=g.extractKey,E=t.db._options.modifyChunkSize||200,b=[],x=0,O=[];return t.clone().primaryKeys().then(function(_){function P($){var M=Math.min(E,_.length-$);return w.getMany({trans:o,keys:_.slice($,$+M),cache:"immutable"}).then(function(F){for(var U=[],N=[],W=k?[]:null,X=[],z=0;z<M;++z){var me=F[z],ve={value:L(me),primKey:_[$+z]};f.call(ve,ve.value,ve)!==!1&&(ve.value==null?X.push(_[$+z]):k||Ie(y(me),y(ve.value))===0?(N.push(ve.value),k&&W.push(_[$+z])):(X.push(_[$+z]),U.push(ve.value)))}return Promise.resolve(0<U.length&&w.mutate({trans:o,type:"add",values:U}).then(function(Ce){for(var xe in Ce.failures)X.splice(parseInt(xe),1);p(U.length,Ce)})).then(function(){return(0<N.length||D&&typeof e=="object")&&w.mutate({trans:o,type:"put",keys:W,values:N,criteria:D,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<$}).then(function(Ce){return p(N.length,Ce)})}).then(function(){return(0<X.length||D&&e===Yr)&&w.mutate({trans:o,type:"delete",keys:X,criteria:D,isAdditionalChunk:0<$}).then(function(Ce){return p(X.length,Ce)})}).then(function(){return _.length>$+M&&P($+E)})})}var D=vn(n)&&n.limit===1/0&&(typeof e!="function"||e===Yr)&&{index:n.index,range:n.range};return P(0).then(function(){if(0<b.length)throw new Xe("Error modifying one or more objects",b,x,O);return _.length})})})},$e.prototype.delete=function(){var e=this._ctx,t=e.range;return vn(e)&&(e.isPrimKey||t.type===3)?this._write(function(n){var o=e.table.core.schema.primaryKey,s=t;return e.table.core.count({trans:n,query:{index:o,range:s}}).then(function(c){return e.table.core.mutate({trans:n,type:"deleteRange",range:s}).then(function(f){var p=f.failures;if(f.lastResult,f.results,f=f.numFailures,f)throw new Xe("Could not delete some values",Object.keys(p).map(function(w){return p[w]}),c-f);return c-f})})}):this.modify(Yr)},$e);function $e(){}var Yr=function(e,t){return t.value=null};function ca(e,t){return e<t?-1:e===t?0:1}function la(e,t){return t<e?-1:e===t?0:1}function ct(e,t,n){return e=e instanceof Wi?new e.Collection(e):e,e._ctx.error=new(n||TypeError)(t),e}function gn(e){return new e.Collection(e,function(){return zi("")}).limit(0)}function hr(e,t,n,o){var s,c,f,p,w,g,k,y=n.length;if(!n.every(function(x){return typeof x=="string"}))return ct(e,ji);function E(x){s=x==="next"?function(_){return _.toUpperCase()}:function(_){return _.toLowerCase()},c=x==="next"?function(_){return _.toLowerCase()}:function(_){return _.toUpperCase()},f=x==="next"?ca:la;var O=n.map(function(_){return{lower:c(_),upper:s(_)}}).sort(function(_,P){return f(_.lower,P.lower)});p=O.map(function(_){return _.upper}),w=O.map(function(_){return _.lower}),k=(g=x)==="next"?"":o}E("next"),e=new e.Collection(e,function(){return Bt(p[0],w[y-1]+o)}),e._ondirectionchange=function(x){E(x)};var b=0;return e._addAlgorithm(function(x,O,_){var P=x.key;if(typeof P!="string")return!1;var D=c(P);if(t(D,w,b))return!0;for(var $=null,M=b;M<y;++M){var F=function(U,N,W,X,z,me){for(var ve=Math.min(U.length,X.length),Ce=-1,xe=0;xe<ve;++xe){var mt=N[xe];if(mt!==X[xe])return z(U[xe],W[xe])<0?U.substr(0,xe)+W[xe]+W.substr(xe+1):z(U[xe],X[xe])<0?U.substr(0,xe)+X[xe]+W.substr(xe+1):0<=Ce?U.substr(0,Ce)+N[Ce]+W.substr(Ce+1):null;z(U[xe],mt)<0&&(Ce=xe)}return ve<X.length&&me==="next"?U+W.substr(U.length):ve<U.length&&me==="prev"?U.substr(0,W.length):Ce<0?null:U.substr(0,Ce)+X[Ce]+W.substr(Ce+1)}(P,D,p[M],w[M],f,g);F===null&&$===null?b=M+1:($===null||0<f($,F))&&($=F)}return O($!==null?function(){x.continue($+k)}:_),!1}),e}function Bt(e,t,n,o){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:o}}function zi(e){return{type:1,lower:e,upper:e}}var Wi=(Object.defineProperty(Ue.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ue.prototype.between=function(e,t,n,o){n=n!==!1,o=o===!0;try{return 0<this._cmp(e,t)||this._cmp(e,t)===0&&(n||o)&&(!n||!o)?gn(this):new this.Collection(this,function(){return Bt(e,t,!n,!o)})}catch{return ct(this,St)}},Ue.prototype.equals=function(e){return e==null?ct(this,St):new this.Collection(this,function(){return zi(e)})},Ue.prototype.above=function(e){return e==null?ct(this,St):new this.Collection(this,function(){return Bt(e,void 0,!0)})},Ue.prototype.aboveOrEqual=function(e){return e==null?ct(this,St):new this.Collection(this,function(){return Bt(e,void 0,!1)})},Ue.prototype.below=function(e){return e==null?ct(this,St):new this.Collection(this,function(){return Bt(void 0,e,!1,!0)})},Ue.prototype.belowOrEqual=function(e){return e==null?ct(this,St):new this.Collection(this,function(){return Bt(void 0,e)})},Ue.prototype.startsWith=function(e){return typeof e!="string"?ct(this,ji):this.between(e,e+Jt,!0,!0)},Ue.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):hr(this,function(t,n){return t.indexOf(n[0])===0},[e],Jt)},Ue.prototype.equalsIgnoreCase=function(e){return hr(this,function(t,n){return t===n[0]},[e],"")},Ue.prototype.anyOfIgnoreCase=function(){var e=be.apply(Z,arguments);return e.length===0?gn(this):hr(this,function(t,n){return n.indexOf(t)!==-1},e,"")},Ue.prototype.startsWithAnyOfIgnoreCase=function(){var e=be.apply(Z,arguments);return e.length===0?gn(this):hr(this,function(t,n){return n.some(function(o){return t.indexOf(o)===0})},e,Jt)},Ue.prototype.anyOf=function(){var e=this,t=be.apply(Z,arguments),n=this._cmp;try{t.sort(n)}catch{return ct(this,St)}if(t.length===0)return gn(this);var o=new this.Collection(this,function(){return Bt(t[0],t[t.length-1])});o._ondirectionchange=function(c){n=c==="next"?e._ascending:e._descending,t.sort(n)};var s=0;return o._addAlgorithm(function(c,f,p){for(var w=c.key;0<n(w,t[s]);)if(++s===t.length)return f(p),!1;return n(w,t[s])===0||(f(function(){c.continue(t[s])}),!1)}),o},Ue.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ue.prototype.noneOf=function(){var e=be.apply(Z,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return ct(this,St)}var t=e.reduce(function(n,o){return n?n.concat([[n[n.length-1][1],o]]):[[-1/0,o]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Ue.prototype.inAnyRange=function(P,t){var n=this,o=this._cmp,s=this._ascending,c=this._descending,f=this._min,p=this._max;if(P.length===0)return gn(this);if(!P.every(function(D){return D[0]!==void 0&&D[1]!==void 0&&s(D[0],D[1])<=0}))return ct(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ne.InvalidArgument);var w=!t||t.includeLowers!==!1,g=t&&t.includeUppers===!0,k,y=s;function E(D,$){return y(D[0],$[0])}try{(k=P.reduce(function(D,$){for(var M=0,F=D.length;M<F;++M){var U=D[M];if(o($[0],U[1])<0&&0<o($[1],U[0])){U[0]=f(U[0],$[0]),U[1]=p(U[1],$[1]);break}}return M===F&&D.push($),D},[])).sort(E)}catch{return ct(this,St)}var b=0,x=g?function(D){return 0<s(D,k[b][1])}:function(D){return 0<=s(D,k[b][1])},O=w?function(D){return 0<c(D,k[b][0])}:function(D){return 0<=c(D,k[b][0])},_=x,P=new this.Collection(this,function(){return Bt(k[0][0],k[k.length-1][1],!w,!g)});return P._ondirectionchange=function(D){y=D==="next"?(_=x,s):(_=O,c),k.sort(E)},P._addAlgorithm(function(D,$,M){for(var F,U=D.key;_(U);)if(++b===k.length)return $(M),!1;return!x(F=U)&&!O(F)||(n._cmp(U,k[b][1])===0||n._cmp(U,k[b][0])===0||$(function(){y===s?D.continue(k[b][0]):D.continue(k[b][1])}),!1)}),P},Ue.prototype.startsWithAnyOf=function(){var e=be.apply(Z,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?gn(this):this.inAnyRange(e.map(function(t){return[t,t+Jt]})):ct(this,"startsWithAnyOf() only works with strings")},Ue);function Ue(){}function Et(e){return Ke(function(t){return qn(t),e(t.target.error),!1})}function qn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Ln="storagemutated",Gr="x-storagemutated-1",Nt=Fn(null,Ln),fa=(Ot.prototype._lock=function(){return ie(!re.global),++this._reculock,this._reculock!==1||re.global||(re.lockOwnerFor=this),this},Ot.prototype._unlock=function(){if(ie(!re.global),--this._reculock==0)for(re.global||(re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Qt(e[1],e[0])}catch{}}return this},Ot.prototype._locked=function(){return this._reculock&&re.lockOwnerFor!==this},Ot.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,o=this.db._state.dbOpenError;if(ie(!this.idbtrans),!e&&!n)switch(o&&o.name){case"DatabaseClosedError":throw new ne.DatabaseClosed(o);case"MissingAPIError":throw new ne.MissingAPI(o.message,o);default:throw new ne.OpenFailed(o)}if(!this.active)throw new ne.TransactionInactive;return ie(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ke(function(s){qn(s),t._reject(e.error)}),e.onabort=Ke(function(s){qn(s),t.active&&t._reject(new ne.Abort(e.error)),t.active=!1,t.on("abort").fire(s)}),e.oncomplete=Ke(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Nt.storagemutated.fire(e.mutatedParts)}),this},Ot.prototype._promise=function(e,t,n){var o=this;if(e==="readwrite"&&this.mode!=="readwrite")return Ve(new ne.ReadOnly("Transaction is readonly"));if(!this.active)return Ve(new ne.TransactionInactive);if(this._locked())return new G(function(c,f){o._blockedFuncs.push([function(){o._promise(e,t,n).then(c,f)},re])});if(n)return jt(function(){var c=new G(function(f,p){o._lock();var w=t(f,p,o);w&&w.then&&w.then(f,p)});return c.finally(function(){return o._unlock()}),c._lib=!0,c});var s=new G(function(c,f){var p=t(c,f,o);p&&p.then&&p.then(c,f)});return s._lib=!0,s},Ot.prototype._root=function(){return this.parent?this.parent._root():this},Ot.prototype.waitFor=function(e){var t,n=this._root(),o=G.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return o}):(n._waitingFor=o,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function c(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=c)}());var s=n._waitingFor;return new G(function(c,f){o.then(function(p){return n._waitingQueue.push(Ke(c.bind(null,p)))},function(p){return n._waitingQueue.push(Ke(f.bind(null,p)))}).finally(function(){n._waitingFor===s&&(n._waitingFor=null)})})},Ot.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ne.Abort))},Ot.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(R(t,e))return t[e];var n=this.schema[e];if(!n)throw new ne.NotFound("Table "+e+" not part of transaction");return n=new this.db.Table(e,n,this),n.core=this.db.core.table(e),t[e]=n},Ot);function Ot(){}function Xr(e,t,n,o,s,c,f){return{name:e,keyPath:t,unique:n,multi:o,auto:s,compound:c,src:(n&&!f?"&":"")+(o?"*":"")+(s?"++":"")+Ui(t)}}function Ui(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Qr(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(o=function(s){return[s.name,s]},n.reduce(function(s,c,f){return f=o(c,f),f&&(s[f[0]]=f[1]),s},{}))};var o}var Vn=function(e){try{return e.only([[]]),Vn=function(){return[[]]},[[]]}catch{return Vn=function(){return Jt},Jt}};function Jr(e){return e==null?function(){}:typeof e=="string"?(t=e).split(".").length===1?function(n){return n[t]}:function(n){return ue(n,t)}:function(n){return ue(n,e)};var t}function Yi(e){return[].slice.call(e)}var da=0;function Hn(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function ha(e,t,w){function o(_){if(_.type===3)return null;if(_.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var b=_.lower,x=_.upper,O=_.lowerOpen,_=_.upperOpen;return b===void 0?x===void 0?null:t.upperBound(x,!!_):x===void 0?t.lowerBound(b,!!O):t.bound(b,x,!!O,!!_)}function s(E){var b,x=E.name;return{name:x,schema:E,mutate:function(O){var _=O.trans,P=O.type,D=O.keys,$=O.values,M=O.range;return new Promise(function(F,U){F=Ke(F);var N=_.objectStore(x),W=N.keyPath==null,X=P==="put"||P==="add";if(!X&&P!=="delete"&&P!=="deleteRange")throw new Error("Invalid operation type: "+P);var z,me=(D||$||{length:1}).length;if(D&&$&&D.length!==$.length)throw new Error("Given keys array must have same length as given values array.");if(me===0)return F({numFailures:0,failures:{},results:[],lastResult:void 0});function ve(tt){++mt,qn(tt)}var Ce=[],xe=[],mt=0;if(P==="deleteRange"){if(M.type===4)return F({numFailures:mt,failures:xe,results:[],lastResult:void 0});M.type===3?Ce.push(z=N.clear()):Ce.push(z=N.delete(o(M)))}else{var W=X?W?[$,D]:[$,null]:[D,null],ke=W[0],Ze=W[1];if(X)for(var et=0;et<me;++et)Ce.push(z=Ze&&Ze[et]!==void 0?N[P](ke[et],Ze[et]):N[P](ke[et])),z.onerror=ve;else for(et=0;et<me;++et)Ce.push(z=N[P](ke[et])),z.onerror=ve}function Cr(tt){tt=tt.target.result,Ce.forEach(function(nn,vi){return nn.error!=null&&(xe[vi]=nn.error)}),F({numFailures:mt,failures:xe,results:P==="delete"?D:Ce.map(function(nn){return nn.result}),lastResult:tt})}z.onerror=function(tt){ve(tt),Cr(tt)},z.onsuccess=Cr})},getMany:function(O){var _=O.trans,P=O.keys;return new Promise(function(D,$){D=Ke(D);for(var M,F=_.objectStore(x),U=P.length,N=new Array(U),W=0,X=0,z=function(Ce){Ce=Ce.target,N[Ce._pos]=Ce.result,++X===W&&D(N)},me=Et($),ve=0;ve<U;++ve)P[ve]!=null&&((M=F.get(P[ve]))._pos=ve,M.onsuccess=z,M.onerror=me,++W);W===0&&D(N)})},get:function(O){var _=O.trans,P=O.key;return new Promise(function(D,$){D=Ke(D);var M=_.objectStore(x).get(P);M.onsuccess=function(F){return D(F.target.result)},M.onerror=Et($)})},query:(b=g,function(O){return new Promise(function(_,P){_=Ke(_);var D,$,M,W=O.trans,F=O.values,U=O.limit,z=O.query,N=U===1/0?void 0:U,X=z.index,z=z.range,W=W.objectStore(x),X=X.isPrimaryKey?W:W.index(X.name),z=o(z);if(U===0)return _({result:[]});b?((N=F?X.getAll(z,N):X.getAllKeys(z,N)).onsuccess=function(me){return _({result:me.target.result})},N.onerror=Et(P)):(D=0,$=!F&&"openKeyCursor"in X?X.openKeyCursor(z):X.openCursor(z),M=[],$.onsuccess=function(me){var ve=$.result;return ve?(M.push(F?ve.value:ve.primaryKey),++D===U?_({result:M}):void ve.continue()):_({result:M})},$.onerror=Et(P))})}),openCursor:function(O){var _=O.trans,P=O.values,D=O.query,$=O.reverse,M=O.unique;return new Promise(function(F,U){F=Ke(F);var X=D.index,N=D.range,W=_.objectStore(x),W=X.isPrimaryKey?W:W.index(X.name),X=$?M?"prevunique":"prev":M?"nextunique":"next",z=!P&&"openKeyCursor"in W?W.openKeyCursor(o(N),X):W.openCursor(o(N),X);z.onerror=Et(U),z.onsuccess=Ke(function(me){var ve,Ce,xe,mt,ke=z.result;ke?(ke.___id=++da,ke.done=!1,ve=ke.continue.bind(ke),Ce=(Ce=ke.continuePrimaryKey)&&Ce.bind(ke),xe=ke.advance.bind(ke),mt=function(){throw new Error("Cursor not stopped")},ke.trans=_,ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=function(){throw new Error("Cursor not started")},ke.fail=Ke(U),ke.next=function(){var Ze=this,et=1;return this.start(function(){return et--?Ze.continue():Ze.stop()}).then(function(){return Ze})},ke.start=function(Ze){function et(){if(z.result)try{Ze()}catch(tt){ke.fail(tt)}else ke.done=!0,ke.start=function(){throw new Error("Cursor behind last entry")},ke.stop()}var Cr=new Promise(function(tt,nn){tt=Ke(tt),z.onerror=Et(nn),ke.fail=nn,ke.stop=function(vi){ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=mt,tt(vi)}});return z.onsuccess=Ke(function(tt){z.onsuccess=et,et()}),ke.continue=ve,ke.continuePrimaryKey=Ce,ke.advance=xe,et(),Cr},F(ke)):F(null)},U)})},count:function(O){var _=O.query,P=O.trans,D=_.index,$=_.range;return new Promise(function(M,F){var U=P.objectStore(x),N=D.isPrimaryKey?U:U.index(D.name),U=o($),N=U?N.count(U):N.count();N.onsuccess=Ke(function(W){return M(W.target.result)}),N.onerror=Et(F)})}}}var c,f,p,k=(f=w,p=Yi((c=e).objectStoreNames),{schema:{name:c.name,tables:p.map(function(E){return f.objectStore(E)}).map(function(E){var b=E.keyPath,_=E.autoIncrement,x=v(b),O={},_={name:E.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b==null,compound:x,keyPath:b,autoIncrement:_,unique:!0,extractKey:Jr(b)},indexes:Yi(E.indexNames).map(function(P){return E.index(P)}).map(function(M){var D=M.name,$=M.unique,F=M.multiEntry,M=M.keyPath,F={name:D,compound:v(M),keyPath:M,unique:$,multiEntry:F,extractKey:Jr(M)};return O[Hn(M)]=F}),getIndexByKeyPath:function(P){return O[Hn(P)]}};return O[":id"]=_.primaryKey,b!=null&&(O[Hn(b)]=_.primaryKey),_})},hasGetAll:0<p.length&&"getAll"in f.objectStore(p[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),w=k.schema,g=k.hasGetAll,k=w.tables.map(s),y={};return k.forEach(function(E){return y[E.name]=E}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(E){if(!y[E])throw new Error("Table '".concat(E,"' not found"));return y[E]},MIN_KEY:-1/0,MAX_KEY:Vn(t),schema:w}}function pa(e,t,n,o){var s=n.IDBKeyRange;return n.indexedDB,{dbcore:(o=ha(t,s,o),e.dbcore.reduce(function(c,f){return f=f.create,a(a({},c),f(c))},o))}}function pr(e,o){var n=o.db,o=pa(e._middlewares,n,e._deps,o);e.core=o.dbcore,e.tables.forEach(function(s){var c=s.name;e.core.schema.tables.some(function(f){return f.name===c})&&(s.core=e.core.table(c),e[c]instanceof e.Table&&(e[c].core=s.core))})}function mr(e,t,n,o){n.forEach(function(s){var c=o[s];t.forEach(function(f){var p=function w(g,k){return A(g,k)||(g=C(g))&&w(g,k)}(f,s);(!p||"value"in p&&p.value===void 0)&&(f===e.Transaction.prototype||f instanceof e.Transaction?S(f,s,{get:function(){return this.table(s)},set:function(w){T(this,s,{value:w,writable:!0,configurable:!0,enumerable:!0})}}):f[s]=new e.Table(s,c))})})}function Zr(e,t){t.forEach(function(n){for(var o in n)n[o]instanceof e.Table&&delete n[o]})}function ma(e,t){return e._cfg.version-t._cfg.version}function ya(e,t,n,o){var s=e._dbSchema;n.objectStoreNames.contains("$meta")&&!s.$meta&&(s.$meta=Qr("$meta",Xi("")[0],[]),e._storeNames.push("$meta"));var c=e._createTransaction("readwrite",e._storeNames,s);c.create(n),c._completion.catch(o);var f=c._reject.bind(c),p=re.transless||re;jt(function(){return re.trans=c,re.transless=p,t!==0?(pr(e,n),g=t,((w=c).storeNames.includes("$meta")?w.table("$meta").get("version").then(function(k){return k??g}):G.resolve(g)).then(function(k){return E=k,b=c,x=n,O=[],k=(y=e)._versions,_=y._dbSchema=vr(0,y.idbdb,x),(k=k.filter(function(P){return P._cfg.version>=E})).length!==0?(k.forEach(function(P){O.push(function(){var D=_,$=P._cfg.dbschema;gr(y,D,x),gr(y,$,x),_=y._dbSchema=$;var M=ei(D,$);M.add.forEach(function(X){ti(x,X[0],X[1].primKey,X[1].indexes)}),M.change.forEach(function(X){if(X.recreate)throw new ne.Upgrade("Not yet support for changing primary key");var z=x.objectStore(X.name);X.add.forEach(function(me){return yr(z,me)}),X.change.forEach(function(me){z.deleteIndex(me.name),yr(z,me)}),X.del.forEach(function(me){return z.deleteIndex(me)})});var F=P._cfg.contentUpgrade;if(F&&P._cfg.version>E){pr(y,x),b._memoizedTables={};var U=de($);M.del.forEach(function(X){U[X]=D[X]}),Zr(y,[y.Transaction.prototype]),mr(y,[y.Transaction.prototype],h(U),U),b.schema=U;var N,W=we(F);return W&&mn(),M=G.follow(function(){var X;(N=F(b))&&W&&(X=Kt.bind(null,null),N.then(X,X))}),N&&typeof N.then=="function"?G.resolve(N):M.then(function(){return N})}}),O.push(function(D){var $,M,F=P._cfg.dbschema;$=F,M=D,[].slice.call(M.db.objectStoreNames).forEach(function(U){return $[U]==null&&M.db.deleteObjectStore(U)}),Zr(y,[y.Transaction.prototype]),mr(y,[y.Transaction.prototype],y._storeNames,y._dbSchema),b.schema=y._dbSchema}),O.push(function(D){y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(y.idbdb.version/10)===P._cfg.version?(y.idbdb.deleteObjectStore("$meta"),delete y._dbSchema.$meta,y._storeNames=y._storeNames.filter(function($){return $!=="$meta"})):D.objectStore("$meta").put(P._cfg.version,"version"))})}),function P(){return O.length?G.resolve(O.shift()(b.idbtrans)).then(P):G.resolve()}().then(function(){Gi(_,x)})):G.resolve();var y,E,b,x,O,_}).catch(f)):(h(s).forEach(function(k){ti(n,k,s[k].primKey,s[k].indexes)}),pr(e,n),void G.follow(function(){return e.on.populate.fire(c)}).catch(f));var w,g})}function va(e,t){Gi(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=vr(0,e.idbdb,t);gr(e,e._dbSchema,t);for(var o=0,s=ei(n,e._dbSchema).change;o<s.length;o++){var c=function(f){if(f.change.length||f.recreate)return console.warn("Unable to patch indexes of table ".concat(f.name," because it has changes on the type of index or primary key.")),{value:void 0};var p=t.objectStore(f.name);f.add.forEach(function(w){it&&console.debug("Dexie upgrade patch: Creating missing index ".concat(f.name,".").concat(w.src)),yr(p,w)})}(s[o]);if(typeof c=="object")return c.value}}function ei(e,t){var n,o={del:[],add:[],change:[]};for(n in e)t[n]||o.del.push(n);for(n in t){var s=e[n],c=t[n];if(s){var f={name:n,def:c,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(c.primKey.keyPath||"")||s.primKey.auto!==c.primKey.auto)f.recreate=!0,o.change.push(f);else{var p=s.idxByName,w=c.idxByName,g=void 0;for(g in p)w[g]||f.del.push(g);for(g in w){var k=p[g],y=w[g];k?k.src!==y.src&&f.change.push(y):f.add.push(y)}(0<f.del.length||0<f.add.length||0<f.change.length)&&o.change.push(f)}}else o.add.push([n,c])}return o}function ti(e,t,n,o){var s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return o.forEach(function(c){return yr(s,c)}),s}function Gi(e,t){h(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(it&&console.debug("Dexie: Creating missing table",n),ti(t,n,e[n].primKey,e[n].indexes))})}function yr(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function vr(e,t,n){var o={};return ee(t.objectStoreNames,0).forEach(function(s){for(var c=n.objectStore(s),f=Xr(Ui(g=c.keyPath),g||"",!0,!1,!!c.autoIncrement,g&&typeof g!="string",!0),p=[],w=0;w<c.indexNames.length;++w){var k=c.index(c.indexNames[w]),g=k.keyPath,k=Xr(k.name,g,!!k.unique,!!k.multiEntry,!1,g&&typeof g!="string",!1);p.push(k)}o[s]=Qr(s,f,p)}),o}function gr(e,t,n){for(var o=n.db.objectStoreNames,s=0;s<o.length;++s){var c=o[s],f=n.objectStore(c);e._hasGetAll="getAll"in f;for(var p=0;p<f.indexNames.length;++p){var w=f.indexNames[p],g=f.index(w).keyPath,k=typeof g=="string"?g:"["+ee(g).join("+")+"]";!t[c]||(g=t[c].idxByName[k])&&(g.name=w,delete t[c].idxByName[k],t[c].idxByName[w]=g)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&d.WorkerGlobalScope&&d instanceof d.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function Xi(e){return e.split(",").map(function(t,n){var o=(t=t.trim()).replace(/([&*]|\+\+)/g,""),s=/^\[/.test(o)?o.match(/^\[(.*)\]$/)[1].split("+"):o;return Xr(o,s||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),v(s),n===0)})}var ga=(br.prototype._parseStoresSpec=function(e,t){h(e).forEach(function(n){if(e[n]!==null){var o=Xi(e[n]),s=o.shift();if(s.unique=!0,s.multi)throw new ne.Schema("Primary key cannot be multi-valued");o.forEach(function(c){if(c.auto)throw new ne.Schema("Only primary key can be marked as autoIncrement (++)");if(!c.keyPath)throw new ne.Schema("Index must have a name and cannot be an empty string")}),t[n]=Qr(n,s,o)}})},br.prototype.stores=function(n){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,n):n;var n=t._versions,o={},s={};return n.forEach(function(c){m(o,c._cfg.storesSource),s=c._cfg.dbschema={},c._parseStoresSpec(o,s)}),t._dbSchema=s,Zr(t,[t._allTables,t,t.Transaction.prototype]),mr(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],h(s),s),t._storeNames=h(s),this},br.prototype.upgrade=function(e){return this._cfg.contentUpgrade=_t(this._cfg.contentUpgrade||De,e),this},br);function br(){}function ni(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Dt(cr,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function ri(e){return e&&typeof e.databases=="function"}function ii(e){return jt(function(){return re.letThrough=!0,e()})}function oi(e){return!("from"in e)}var Je=function(e,t){if(!this){var n=new Je;return e&&"d"in e&&m(n,e),n}m(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function zn(e,t,n){var o=Ie(t,n);if(!isNaN(o)){if(0<o)throw RangeError();if(oi(e))return m(e,{from:t,to:n,d:1});var s=e.l,o=e.r;if(Ie(n,e.from)<0)return s?zn(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Qi(e);if(0<Ie(t,e.to))return o?zn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Qi(e);Ie(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),0<Ie(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,s&&!e.l&&Wn(e,s),o&&n&&Wn(e,o)}}function Wn(e,t){oi(t)||function n(o,w){var c=w.from,f=w.to,p=w.l,w=w.r;zn(o,c,f),p&&n(o,p),w&&n(o,w)}(e,t)}function wr(e,t){var n=ai(t),o=n.next();if(o.done)return!1;for(var s=o.value,c=ai(e),f=c.next(s.from),p=f.value;!o.done&&!f.done;){if(Ie(p.from,s.to)<=0&&0<=Ie(p.to,s.from))return!0;Ie(s.from,p.from)<0?s=(o=n.next(p.from)).value:p=(f=c.next(s.from)).value}return!1}function ai(e){var t=oi(e)?null:{s:0,n:e};return{next:function(n){for(var o=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,o)for(;t.n.l&&Ie(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!o||Ie(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Qi(e){var t,n,o=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),s=1<o?"r":o<-1?"l":"";s&&(t=s=="r"?"l":"r",n=a({},e),o=e[s],e.from=o.from,e.to=o.to,e[s]=o[s],n[s]=o[t],(e[t]=n).d=Ji(n)),e.d=Ji(e)}function Ji(n){var t=n.r,n=n.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function _r(e,t){return h(t).forEach(function(n){e[n]?Wn(e[n],t[n]):e[n]=function o(s){var c,f,p={};for(c in s)R(s,c)&&(f=s[c],p[c]=!f||typeof f!="object"||pe.has(f.constructor)?f:o(f));return p}(t[n])}),e}function si(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&wr(t[n],e[n])})}j(Je.prototype,((ht={add:function(e){return Wn(this,e),this},addKey:function(e){return zn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return zn(t,n,n)}),this}})[te]=function(){return ai(this)},ht));var en={},ui={},ci=!1;function xr(e){_r(ui,e),ci||(ci=!0,setTimeout(function(){ci=!1,li(ui,!(ui={}))},0))}function li(e,t){t===void 0&&(t=!1);var n=new Set;if(e.all)for(var o=0,s=Object.values(en);o<s.length;o++)Zi(f=s[o],e,n,t);else for(var c in e){var f,p=/^idb\:\/\/(.*)\/(.*)\//.exec(c);p&&(c=p[1],p=p[2],(f=en["idb://".concat(c,"/").concat(p)])&&Zi(f,e,n,t))}n.forEach(function(w){return w()})}function Zi(e,t,n,o){for(var s=[],c=0,f=Object.entries(e.queries.query);c<f.length;c++){for(var p=f[c],w=p[0],g=[],k=0,y=p[1];k<y.length;k++){var E=y[k];si(t,E.obsSet)?E.subscribers.forEach(function(_){return n.add(_)}):o&&g.push(E)}o&&s.push([w,g])}if(o)for(var b=0,x=s;b<x.length;b++){var O=x[b],w=O[0],g=O[1];e.queries.query[w]=g}}function ba(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Ve(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var o=t.openCanceller,s=Math.round(10*e.verno),c=!1;function f(){if(t.openCanceller!==o)throw new ne.DatabaseClosed("db.open() was cancelled")}function p(){return new G(function(E,b){if(f(),!n)throw new ne.MissingAPI;var x=e.name,O=t.autoSchema||!s?n.open(x):n.open(x,s);if(!O)throw new ne.MissingAPI;O.onerror=Et(b),O.onblocked=Ke(e._fireOnBlocked),O.onupgradeneeded=Ke(function(_){var P;k=O.transaction,t.autoSchema&&!e._options.allowEmptyDB?(O.onerror=qn,k.abort(),O.result.close(),(P=n.deleteDatabase(x)).onsuccess=P.onerror=Ke(function(){b(new ne.NoSuchDatabase("Database ".concat(x," doesnt exist")))})):(k.onerror=Et(b),_=_.oldVersion>Math.pow(2,62)?0:_.oldVersion,y=_<1,e.idbdb=O.result,c&&va(e,k),ya(e,_/10,k,b))},b),O.onsuccess=Ke(function(){k=null;var _,P,D,$,M,F=e.idbdb=O.result,U=ee(F.objectStoreNames);if(0<U.length)try{var N=F.transaction(($=U).length===1?$[0]:$,"readonly");if(t.autoSchema)P=F,D=N,(_=e).verno=P.version/10,D=_._dbSchema=vr(0,P,D),_._storeNames=ee(P.objectStoreNames,0),mr(_,[_._allTables],h(D),D);else if(gr(e,e._dbSchema,N),((M=ei(vr(0,(M=e).idbdb,N),M._dbSchema)).add.length||M.change.some(function(W){return W.add.length||W.change.length}))&&!c)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),F.close(),s=F.version+1,c=!0,E(p());pr(e,N)}catch{}yn.push(e),F.onversionchange=Ke(function(W){t.vcFired=!0,e.on("versionchange").fire(W)}),F.onclose=Ke(function(W){e.on("close").fire(W)}),y&&(M=e._deps,N=x,F=M.indexedDB,M=M.IDBKeyRange,ri(F)||N===cr||ni(F,M).put({name:N}).catch(De)),E()},b)}).catch(function(E){switch(E==null?void 0:E.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),p();break;case"VersionError":if(0<s)return s=0,p()}return G.reject(E)})}var w,g=t.dbReadyResolve,k=null,y=!1;return G.race([o,(typeof navigator>"u"?G.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(E){function b(){return indexedDB.databases().finally(E)}w=setInterval(b,100),b()}).finally(function(){return clearInterval(w)}):Promise.resolve()).then(p)]).then(function(){return f(),t.onReadyBeingFired=[],G.resolve(ii(function(){return e.on.ready.fire(e.vip)})).then(function E(){if(0<t.onReadyBeingFired.length){var b=t.onReadyBeingFired.reduce(_t,De);return t.onReadyBeingFired=[],G.resolve(ii(function(){return b(e.vip)})).then(E)}})}).finally(function(){t.openCanceller===o&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(E){t.dbOpenError=E;try{k&&k.abort()}catch{}return o===t.openCanceller&&e._close(),Ve(E)}).finally(function(){t.openComplete=!0,g()}).then(function(){var E;return y&&(E={},e.tables.forEach(function(b){b.schema.indexes.forEach(function(x){x.name&&(E["idb://".concat(e.name,"/").concat(b.name,"/").concat(x.name)]=new Je(-1/0,[[[]]]))}),E["idb://".concat(e.name,"/").concat(b.name,"/")]=E["idb://".concat(e.name,"/").concat(b.name,"/:dels")]=new Je(-1/0,[[[]]])}),Nt(Ln).fire(E),li(E,!0)),e})}function fi(e){function t(c){return e.next(c)}var n=s(t),o=s(function(c){return e.throw(c)});function s(c){return function(w){var p=c(w),w=p.value;return p.done?w:w&&typeof w.then=="function"?w.then(n,o):v(w)?Promise.all(w).then(n,o):n(w)}}return s(t)()}function kr(e,t,n){for(var o=v(e)?e.slice():[e],s=0;s<n;++s)o.push(t);return o}var wa={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return a(a({},e),{table:function(t){var n=e.table(t),o=n.schema,s={},c=[];function f(y,E,b){var x=Hn(y),O=s[x]=s[x]||[],_=y==null?0:typeof y=="string"?1:y.length,P=0<E,P=a(a({},b),{name:P?"".concat(x,"(virtual-from:").concat(b.name,")"):b.name,lowLevelIndex:b,isVirtual:P,keyTail:E,keyLength:_,extractKey:Jr(y),unique:!P&&b.unique});return O.push(P),P.isPrimaryKey||c.push(P),1<_&&f(_===2?y[0]:y.slice(0,_-1),E+1,b),O.sort(function(D,$){return D.keyTail-$.keyTail}),P}t=f(o.primaryKey.keyPath,0,o.primaryKey),s[":id"]=[t];for(var p=0,w=o.indexes;p<w.length;p++){var g=w[p];f(g.keyPath,0,g)}function k(y){var E,b=y.query.index;return b.isVirtual?a(a({},y),{query:{index:b.lowLevelIndex,range:(E=y.query.range,b=b.keyTail,{type:E.type===1?2:E.type,lower:kr(E.lower,E.lowerOpen?e.MAX_KEY:e.MIN_KEY,b),lowerOpen:!0,upper:kr(E.upper,E.upperOpen?e.MIN_KEY:e.MAX_KEY,b),upperOpen:!0})}}):y}return a(a({},n),{schema:a(a({},o),{primaryKey:t,indexes:c,getIndexByKeyPath:function(y){return(y=s[Hn(y)])&&y[0]}}),count:function(y){return n.count(k(y))},query:function(y){return n.query(k(y))},openCursor:function(y){var E=y.query.index,b=E.keyTail,x=E.isVirtual,O=E.keyLength;return x?n.openCursor(k(y)).then(function(P){return P&&_(P)}):n.openCursor(y);function _(P){return Object.create(P,{continue:{value:function(D){D!=null?P.continue(kr(D,y.reverse?e.MAX_KEY:e.MIN_KEY,b)):y.unique?P.continue(P.key.slice(0,O).concat(y.reverse?e.MIN_KEY:e.MAX_KEY,b)):P.continue()}},continuePrimaryKey:{value:function(D,$){P.continuePrimaryKey(kr(D,e.MAX_KEY,b),$)}},primaryKey:{get:function(){return P.primaryKey}},key:{get:function(){var D=P.key;return O===1?D[0]:D.slice(0,O)}},value:{get:function(){return P.value}}})}}})}})}};function di(e,t,n,o){return n=n||{},o=o||"",h(e).forEach(function(s){var c,f,p;R(t,s)?(c=e[s],f=t[s],typeof c=="object"&&typeof f=="object"&&c&&f?(p=he(c))!==he(f)?n[o+s]=t[s]:p==="Object"?di(c,f,n,o+s+"."):c!==f&&(n[o+s]=t[s]):c!==f&&(n[o+s]=t[s])):n[o+s]=void 0}),h(t).forEach(function(s){R(e,s)||(n[o+s]=t[s])}),n}function hi(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var _a={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return a(a({},e),{table:function(t){var n=e.table(t),o=n.schema.primaryKey;return a(a({},n),{mutate:function(s){var c=re.trans,f=c.table(t).hook,p=f.deleting,w=f.creating,g=f.updating;switch(s.type){case"add":if(w.fire===De)break;return c._promise("readwrite",function(){return k(s)},!0);case"put":if(w.fire===De&&g.fire===De)break;return c._promise("readwrite",function(){return k(s)},!0);case"delete":if(p.fire===De)break;return c._promise("readwrite",function(){return k(s)},!0);case"deleteRange":if(p.fire===De)break;return c._promise("readwrite",function(){return function y(E,b,x){return n.query({trans:E,values:!1,query:{index:o,range:b},limit:x}).then(function(O){var _=O.result;return k({type:"delete",keys:_,trans:E}).then(function(P){return 0<P.numFailures?Promise.reject(P.failures[0]):_.length<x?{failures:[],numFailures:0,lastResult:void 0}:y(E,a(a({},b),{lower:_[_.length-1],lowerOpen:!0}),x)})})}(s.trans,s.range,1e4)},!0)}return n.mutate(s);function k(y){var E,b,x,O=re.trans,_=y.keys||hi(o,y);if(!_)throw new Error("Keys missing");return(y=y.type==="add"||y.type==="put"?a(a({},y),{keys:_}):a({},y)).type!=="delete"&&(y.values=l([],y.values)),y.keys&&(y.keys=l([],y.keys)),E=n,x=_,((b=y).type==="add"?Promise.resolve([]):E.getMany({trans:b.trans,keys:x,cache:"immutable"})).then(function(P){var D=_.map(function($,M){var F,U,N,W=P[M],X={onerror:null,onsuccess:null};return y.type==="delete"?p.fire.call(X,$,W,O):y.type==="add"||W===void 0?(F=w.fire.call(X,$,y.values[M],O),$==null&&F!=null&&(y.keys[M]=$=F,o.outbound||q(y.values[M],o.keyPath,$))):(F=di(W,y.values[M]),(U=g.fire.call(X,F,$,W,O))&&(N=y.values[M],Object.keys(U).forEach(function(z){R(N,z)?N[z]=U[z]:q(N,z,U[z])}))),X});return n.mutate(y).then(function($){for(var M=$.failures,F=$.results,U=$.numFailures,$=$.lastResult,N=0;N<_.length;++N){var W=(F||_)[N],X=D[N];W==null?X.onerror&&X.onerror(M[N]):X.onsuccess&&X.onsuccess(y.type==="put"&&P[N]?y.values[N]:W)}return{failures:M,results:F,numFailures:U,lastResult:$}}).catch(function($){return D.forEach(function(M){return M.onerror&&M.onerror($)}),Promise.reject($)})})}}})}})}};function eo(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var o=[],s=0,c=0;s<t.keys.length&&c<e.length;++s)Ie(t.keys[s],e[c])===0&&(o.push(n?L(t.values[s]):t.values[s]),++c);return o.length===e.length?o:null}catch{return null}}var xa={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return a(a({},n),{getMany:function(o){if(!o.cache)return n.getMany(o);var s=eo(o.keys,o.trans._cache,o.cache==="clone");return s?G.resolve(s):n.getMany(o).then(function(c){return o.trans._cache={keys:o.keys,values:o.cache==="clone"?L(c):c},c})},mutate:function(o){return o.type!=="add"&&(o.trans._cache=null),n.mutate(o)}})}}}};function to(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function no(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var ka={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new Je(e.MIN_KEY,e.MAX_KEY);return a(a({},e),{transaction:function(o,s,c){if(re.subscr&&s!=="readonly")throw new ne.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(re.querier));return e.transaction(o,s,c)},table:function(o){var s=e.table(o),c=s.schema,f=c.primaryKey,y=c.indexes,p=f.extractKey,w=f.outbound,g=f.autoIncrement&&y.filter(function(b){return b.compound&&b.keyPath.includes(f.keyPath)}),k=a(a({},s),{mutate:function(b){function x(z){return z="idb://".concat(t,"/").concat(o,"/").concat(z),$[z]||($[z]=new Je)}var O,_,P,D=b.trans,$=b.mutatedParts||(b.mutatedParts={}),M=x(""),F=x(":dels"),U=b.type,X=b.type==="deleteRange"?[b.range]:b.type==="delete"?[b.keys]:b.values.length<50?[hi(f,b).filter(function(z){return z}),b.values]:[],N=X[0],W=X[1],X=b.trans._cache;return v(N)?(M.addKeys(N),(X=U==="delete"||N.length===W.length?eo(N,X):null)||F.addKeys(N),(X||W)&&(O=x,_=X,P=W,c.indexes.forEach(function(z){var me=O(z.name||"");function ve(xe){return xe!=null?z.extractKey(xe):null}function Ce(xe){return z.multiEntry&&v(xe)?xe.forEach(function(mt){return me.addKey(mt)}):me.addKey(xe)}(_||P).forEach(function(xe,Ze){var ke=_&&ve(_[Ze]),Ze=P&&ve(P[Ze]);Ie(ke,Ze)!==0&&(ke!=null&&Ce(ke),Ze!=null&&Ce(Ze))})}))):N?(W={from:N.lower,to:N.upper},F.add(W),M.add(W)):(M.add(n),F.add(n),c.indexes.forEach(function(z){return x(z.name).add(n)})),s.mutate(b).then(function(z){return!N||b.type!=="add"&&b.type!=="put"||(M.addKeys(z.results),g&&g.forEach(function(me){var ve=b.values.map(function(xe){return me.extractKey(xe)}),Ce=me.keyPath.findIndex(function(xe){return xe===f.keyPath});z.results.forEach(function(xe){return ve[Ce]=xe}),x(me.name).addKeys(ve)})),D.mutatedParts=_r(D.mutatedParts||{},$),z})}}),y=function(x){var O=x.query,x=O.index,O=O.range;return[x,new Je((x=O.lower)!==null&&x!==void 0?x:e.MIN_KEY,(O=O.upper)!==null&&O!==void 0?O:e.MAX_KEY)]},E={get:function(b){return[f,new Je(b.key)]},getMany:function(b){return[f,new Je().addKeys(b.keys)]},count:y,query:y,openCursor:y};return h(E).forEach(function(b){k[b]=function(x){var O=re.subscr,_=!!O,P=to(re,s)&&no(b,x)?x.obsSet={}:O;if(_){var D=function(W){return W="idb://".concat(t,"/").concat(o,"/").concat(W),P[W]||(P[W]=new Je)},$=D(""),M=D(":dels"),O=E[b](x),_=O[0],O=O[1];if((b==="query"&&_.isPrimaryKey&&!x.values?M:D(_.name||"")).add(O),!_.isPrimaryKey){if(b!=="count"){var F=b==="query"&&w&&x.values&&s.query(a(a({},x),{values:!1}));return s[b].apply(this,arguments).then(function(W){if(b==="query"){if(w&&x.values)return F.then(function(ve){return ve=ve.result,$.addKeys(ve),W});var X=x.values?W.result.map(p):W.result;(x.values?$:M).addKeys(X)}else if(b==="openCursor"){var z=W,me=x.values;return z&&Object.create(z,{key:{get:function(){return M.addKey(z.primaryKey),z.key}},primaryKey:{get:function(){var ve=z.primaryKey;return M.addKey(ve),ve}},value:{get:function(){return me&&$.addKey(z.primaryKey),z.value}}})}return W})}M.add(n)}}return s[b].apply(this,arguments)}}),k}})}};function ro(e,t,n){if(n.numFailures===0)return t;if(t.type==="deleteRange")return null;var o=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;return n.numFailures===o?null:(t=a({},t),v(t.keys)&&(t.keys=t.keys.filter(function(s,c){return!(c in n.failures)})),"values"in t&&v(t.values)&&(t.values=t.values.filter(function(s,c){return!(c in n.failures)})),t)}function pi(e,t){return n=e,((o=t).lower===void 0||(o.lowerOpen?0<Ie(n,o.lower):0<=Ie(n,o.lower)))&&(e=e,(t=t).upper===void 0||(t.upperOpen?Ie(e,t.upper)<0:Ie(e,t.upper)<=0));var n,o}function io(e,t,E,o,s,c){if(!E||E.length===0)return e;var f=t.query.index,p=f.multiEntry,w=t.query.range,g=o.schema.primaryKey.extractKey,k=f.extractKey,y=(f.lowLevelIndex||f).extractKey,E=E.reduce(function(b,x){var O=b,_=x.type==="add"||x.type==="put"?x.values.filter(function(M){return M=k(M),p&&v(M)?M.some(function(F){return pi(F,w)}):pi(M,w)}).map(function(M){return M=L(M),c&&Object.freeze(M),M}):[];switch(x.type){case"add":O=b.concat(t.values?_:_.map(function(F){return g(F)}));break;case"put":var P=new Je().addKeys(x.values.map(function(F){return g(F)})),O=b.filter(function(F){return F=t.values?g(F):F,!wr(new Je(F),P)}).concat(t.values?_:_.map(function(F){return g(F)}));break;case"delete":var D=new Je().addKeys(x.keys);O=b.filter(function(F){return F=t.values?g(F):F,!wr(new Je(F),D)});break;case"deleteRange":var $=x.range;O=b.filter(function(F){return!pi(g(F),$)})}return O},e);return E===e?e:(E.sort(function(b,x){return Ie(y(b),y(x))||Ie(g(b),g(x))}),t.limit&&t.limit<1/0&&(E.length>t.limit?E.length=t.limit:e.length===t.limit&&E.length<t.limit&&(s.dirty=!0)),c?Object.freeze(E):E)}function oo(e,t){return Ie(e.lower,t.lower)===0&&Ie(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Ea(e,t){return function(n,o,s,c){if(n===void 0)return o!==void 0?-1:0;if(o===void 0)return 1;if((o=Ie(n,o))===0){if(s&&c)return 0;if(s)return 1;if(c)return-1}return o}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(n,o,s,c){if(n===void 0)return o!==void 0?1:0;if(o===void 0)return-1;if((o=Ie(n,o))===0){if(s&&c)return 0;if(s)return-1;if(c)return 1}return o}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Oa(e,t,n,o){e.subscribers.add(n),o.addEventListener("abort",function(){var s,c;e.subscribers.delete(n),e.subscribers.size===0&&(s=e,c=t,setTimeout(function(){s.subscribers.size===0&&ce(c,s)},3e3))})}var Ca={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;return a(a({},e),{transaction:function(n,o,s){var c,f,p=e.transaction(n,o,s);return o==="readwrite"&&(f=(c=new AbortController).signal,s=function(w){return function(){if(c.abort(),o==="readwrite"){for(var g=new Set,k=0,y=n;k<y.length;k++){var E=y[k],b=en["idb://".concat(t,"/").concat(E)];if(b){var x=e.table(E),O=b.optimisticOps.filter(function(me){return me.trans===p});if(p._explicit&&w&&p.mutatedParts)for(var _=0,P=Object.values(b.queries.query);_<P.length;_++)for(var D=0,$=(U=P[_]).slice();D<$.length;D++)si((N=$[D]).obsSet,p.mutatedParts)&&(ce(U,N),N.subscribers.forEach(function(me){return g.add(me)}));else if(0<O.length){b.optimisticOps=b.optimisticOps.filter(function(me){return me.trans!==p});for(var M=0,F=Object.values(b.queries.query);M<F.length;M++)for(var U,N,W,X=0,z=(U=F[M]).slice();X<z.length;X++)(N=z[X]).res!=null&&p.mutatedParts&&(w&&!N.dirty?(W=Object.isFrozen(N.res),W=io(N.res,N.req,O,x,N,W),N.dirty?(ce(U,N),N.subscribers.forEach(function(me){return g.add(me)})):W!==N.res&&(N.res=W,N.promise=G.resolve({result:W}))):(N.dirty&&ce(U,N),N.subscribers.forEach(function(me){return g.add(me)})))}}}g.forEach(function(me){return me()})}}},p.addEventListener("abort",s(!1),{signal:f}),p.addEventListener("error",s(!1),{signal:f}),p.addEventListener("complete",s(!0),{signal:f})),p},table:function(n){var o=e.table(n),s=o.schema.primaryKey;return a(a({},o),{mutate:function(c){var f=re.trans;if(s.outbound||f.db._options.cache==="disabled"||f.explicit)return o.mutate(c);var p=en["idb://".concat(t,"/").concat(n)];return p?(f=o.mutate(c),c.type!=="add"&&c.type!=="put"||!(50<=c.values.length||hi(s,c).some(function(w){return w==null}))?(p.optimisticOps.push(c),c.mutatedParts&&xr(c.mutatedParts),f.then(function(w){0<w.numFailures&&(ce(p.optimisticOps,c),(w=ro(0,c,w))&&p.optimisticOps.push(w),c.mutatedParts&&xr(c.mutatedParts))}),f.catch(function(){ce(p.optimisticOps,c),c.mutatedParts&&xr(c.mutatedParts)})):f.then(function(w){var g=ro(0,a(a({},c),{values:c.values.map(function(b,y){var E,b=(E=s.keyPath)!==null&&E!==void 0&&E.includes(".")?L(b):a({},b);return q(b,s.keyPath,w.results[y]),b})}),w);p.optimisticOps.push(g),queueMicrotask(function(){return c.mutatedParts&&xr(c.mutatedParts)})}),f):o.mutate(c)},query:function(c){if(!to(re,o)||!no("query",c))return o.query(c);var f=((g=re.trans)===null||g===void 0?void 0:g.db._options.cache)==="immutable",y=re,p=y.requery,w=y.signal,g=function(x,O,_,P){var D=en["idb://".concat(x,"/").concat(O)];if(!D)return[];if(!(O=D.queries[_]))return[null,!1,D,null];var $=O[(P.query?P.query.index.name:null)||""];if(!$)return[null,!1,D,null];switch(_){case"query":var M=$.find(function(F){return F.req.limit===P.limit&&F.req.values===P.values&&oo(F.req.query.range,P.query.range)});return M?[M,!0,D,$]:[$.find(function(F){return("limit"in F.req?F.req.limit:1/0)>=P.limit&&(!P.values||F.req.values)&&Ea(F.req.query.range,P.query.range)}),!1,D,$];case"count":return M=$.find(function(F){return oo(F.req.query.range,P.query.range)}),[M,!!M,D,$]}}(t,n,"query",c),k=g[0],y=g[1],E=g[2],b=g[3];return k&&y?k.obsSet=c.obsSet:(y=o.query(c).then(function(x){var O=x.result;if(k&&(k.res=O),f){for(var _=0,P=O.length;_<P;++_)Object.freeze(O[_]);Object.freeze(O)}else x.result=L(O);return x}).catch(function(x){return b&&k&&ce(b,k),Promise.reject(x)}),k={obsSet:c.obsSet,promise:y,subscribers:new Set,type:"query",req:c,dirty:!1},b?b.push(k):(b=[k],(E=E||(en["idb://".concat(t,"/").concat(n)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[c.query.index.name||""]=b)),Oa(k,b,p,w),k.promise.then(function(x){return{result:io(x.result,c,E==null?void 0:E.optimisticOps,o,k,f)}})}})}})}};function Er(e,t){return new Proxy(e,{get:function(n,o,s){return o==="db"?t:Reflect.get(n,o,s)}})}var Dt=(He.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ne.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ne.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(o){return o._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(ma),n.stores({}),this._state.autoSchema=!1,n)},He.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||re.letThrough||this._vip)?e():new G(function(n,o){if(t._state.openComplete)return o(new ne.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void o(new ne.DatabaseClosed);t.open().catch(De)}t._state.dbReadyPromise.then(n,o)}).then(e)},He.prototype.use=function(e){var t=e.stack,n=e.create,o=e.level,s=e.name;return s&&this.unuse({stack:t,name:s}),e=this._middlewares[t]||(this._middlewares[t]=[]),e.push({stack:t,create:n,level:o??10,name:s}),e.sort(function(c,f){return c.level-f.level}),this},He.prototype.unuse=function(e){var t=e.stack,n=e.name,o=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(s){return o?s.create!==o:!!n&&s.name!==n})),this},He.prototype.open=function(){var e=this;return Qt(pt,function(){return ba(e)})},He.prototype._close=function(){var e=this._state,t=yn.indexOf(this);if(0<=t&&yn.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new G(function(n){e.dbReadyResolve=n}),e.openCanceller=new G(function(n,o){e.cancelOpen=o}))},He.prototype.close=function(n){var t=(n===void 0?{disableAutoOpen:!0}:n).disableAutoOpen,n=this._state;t?(n.isBeingOpened&&n.cancelOpen(new ne.DatabaseClosed),this._close(),n.autoOpen=!1,n.dbOpenError=new ne.DatabaseClosed):(this._close(),n.autoOpen=this._options.autoOpen||n.isBeingOpened,n.openComplete=!1,n.dbOpenError=null)},He.prototype.delete=function(e){var t=this;e===void 0&&(e={disableAutoOpen:!0});var n=0<arguments.length&&typeof arguments[0]!="object",o=this._state;return new G(function(s,c){function f(){t.close(e);var p=t._deps.indexedDB.deleteDatabase(t.name);p.onsuccess=Ke(function(){var w,g,k;w=t._deps,g=t.name,k=w.indexedDB,w=w.IDBKeyRange,ri(k)||g===cr||ni(k,w).delete(g).catch(De),s()}),p.onerror=Et(c),p.onblocked=t._fireOnBlocked}if(n)throw new ne.InvalidArgument("Invalid closeOptions argument to db.delete()");o.isBeingOpened?o.dbReadyPromise.then(f):f()})},He.prototype.backendDB=function(){return this.idbdb},He.prototype.isOpen=function(){return this.idbdb!==null},He.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},He.prototype.hasFailed=function(){return this._state.dbOpenError!==null},He.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(He.prototype,"tables",{get:function(){var e=this;return h(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),He.prototype.transaction=function(){var e=(function(t,n,o){var s=arguments.length;if(s<2)throw new ne.InvalidArgument("Too few arguments");for(var c=new Array(s-1);--s;)c[s-1]=arguments[s];return o=c.pop(),[t,ye(c),o]}).apply(this,arguments);return this._transaction.apply(this,e)},He.prototype._transaction=function(e,t,n){var o=this,s=re.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);var c,f,p=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(f=t.map(function(g){if(g=g instanceof o.Table?g.name:g,typeof g!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return g}),e=="r"||e===Hr)c=Hr;else{if(e!="rw"&&e!=zr)throw new ne.InvalidArgument("Invalid transaction mode: "+e);c=zr}if(s){if(s.mode===Hr&&c===zr){if(!p)throw new ne.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&f.forEach(function(g){if(s&&s.storeNames.indexOf(g)===-1){if(!p)throw new ne.SubTransaction("Table "+g+" not included in parent transaction.");s=null}}),p&&s&&!s.active&&(s=null)}}catch(g){return s?s._promise(null,function(k,y){y(g)}):Ve(g)}var w=(function g(k,y,E,b,x){return G.resolve().then(function(){var O=re.transless||re,_=k._createTransaction(y,E,k._dbSchema,b);if(_.explicit=!0,O={trans:_,transless:O},b)_.idbtrans=b.idbtrans;else try{_.create(),_.idbtrans._explicit=!0,k._state.PR1398_maxLoop=3}catch($){return $.name===nt.InvalidState&&k.isOpen()&&0<--k._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),k.close({disableAutoOpen:!1}),k.open().then(function(){return g(k,y,E,null,x)})):Ve($)}var P,D=we(x);return D&&mn(),O=G.follow(function(){var $;(P=x.call(_,_))&&(D?($=Kt.bind(null,null),P.then($,$)):typeof P.next=="function"&&typeof P.throw=="function"&&(P=fi(P)))},O),(P&&typeof P.then=="function"?G.resolve(P).then(function($){return _.active?$:Ve(new ne.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):O.then(function(){return P})).then(function($){return b&&_._resolve(),_._completion.then(function(){return $})}).catch(function($){return _._reject($),Ve($)})})}).bind(null,this,c,f,s,n);return s?s._promise(c,w,"lock"):re.trans?Qt(re.transless,function(){return o._whenReady(w)}):this._whenReady(w)},He.prototype.table=function(e){if(!R(this._allTables,e))throw new ne.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},He);function He(e,t){var n=this;this._middlewares={},this.verno=0;var o=He.dependencies;this._options=t=a({addons:He.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange,cache:"cloned"},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange},o=t.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s,c,f,p,w,g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:De,dbReadyPromise:null,cancelOpen:De,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:t.autoOpen};g.dbReadyPromise=new G(function(y){g.dbReadyResolve=y}),g.openCanceller=new G(function(y,E){g.cancelOpen=E}),this._state=g,this.name=e,this.on=Fn(this,"populate","blocked","versionchange","close",{ready:[_t,De]}),this.on.ready.subscribe=V(this.on.ready.subscribe,function(y){return function(E,b){He.vip(function(){var x,O=n._state;O.openComplete?(O.dbOpenError||G.resolve().then(E),b&&y(E)):O.onReadyBeingFired?(O.onReadyBeingFired.push(E),b&&y(E)):(y(E),x=n,b||y(function _(){x.on.ready.unsubscribe(E),x.on.ready.unsubscribe(_)}))})}}),this.Collection=(s=this,Bn(ua.prototype,function(P,_){this.db=s;var b=Ki,x=null;if(_)try{b=_()}catch(D){x=D}var O=P._ctx,_=O.table,P=_.hook.reading.fire;this._ctx={table:_,index:O.index,isPrimKey:!O.index||_.schema.primKey.keyPath&&O.index===_.schema.primKey.name,range:b,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:x,or:O.or,valueMapper:P!==rt?P:null}})),this.Table=(c=this,Bn(qi.prototype,function(y,E,b){this.db=c,this._tx=b,this.name=y,this.schema=E,this.hook=c._allTables[y]?c._allTables[y].hook:Fn(null,{creating:[In,De],reading:[$n,rt],updating:[Rn,De],deleting:[bt,De]})})),this.Transaction=(f=this,Bn(fa.prototype,function(y,E,b,x,O){var _=this;this.db=f,this.mode=y,this.storeNames=E,this.schema=b,this.chromeTransactionDurability=x,this.idbtrans=null,this.on=Fn(this,"complete","error","abort"),this.parent=O||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new G(function(P,D){_._resolve=P,_._reject=D}),this._completion.then(function(){_.active=!1,_.on.complete.fire()},function(P){var D=_.active;return _.active=!1,_.on.error.fire(P),_.parent?_.parent._reject(P):D&&_.idbtrans&&_.idbtrans.abort(),Ve(P)})})),this.Version=(p=this,Bn(ga.prototype,function(y){this.db=p,this._cfg={version:y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(w=this,Bn(Wi.prototype,function(y,E,b){if(this.db=w,this._ctx={table:y,index:E===":id"?null:E,or:b},this._cmp=this._ascending=Ie,this._descending=function(x,O){return Ie(O,x)},this._max=function(x,O){return 0<Ie(x,O)?x:O},this._min=function(x,O){return Ie(x,O)<0?x:O},this._IDBKeyRange=w._deps.IDBKeyRange,!this._IDBKeyRange)throw new ne.MissingAPI})),this.on("versionchange",function(y){0<y.newVersion?console.warn("Another connection wants to upgrade database '".concat(n.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(n.name,"'. Closing db now to resume the delete request.")),n.close({disableAutoOpen:!1})}),this.on("blocked",function(y){!y.newVersion||y.newVersion<y.oldVersion?console.warn("Dexie.delete('".concat(n.name,"') was blocked")):console.warn("Upgrade '".concat(n.name,"' blocked by other connection holding version ").concat(y.oldVersion/10))}),this._maxKey=Vn(t.IDBKeyRange),this._createTransaction=function(y,E,b,x){return new n.Transaction(y,E,b,n._options.chromeTransactionDurability,x)},this._fireOnBlocked=function(y){n.on("blocked").fire(y),yn.filter(function(E){return E.name===n.name&&E!==n&&!E._state.vcFired}).map(function(E){return E.on("versionchange").fire(y)})},this.use(xa),this.use(Ca),this.use(ka),this.use(wa),this.use(_a);var k=new Proxy(this,{get:function(y,E,b){if(E==="_vip")return!0;if(E==="table")return function(O){return Er(n.table(O),k)};var x=Reflect.get(y,E,b);return x instanceof qi?Er(x,k):E==="tables"?x.map(function(O){return Er(O,k)}):E==="_createTransaction"?function(){return Er(x.apply(this,arguments),k)}:x}});this.vip=k,o.forEach(function(y){return y(n)})}var Or,ht=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Aa=(mi.prototype.subscribe=function(e,t,n){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:t,complete:n})},mi.prototype[ht]=function(){return this},mi);function mi(e){this._subscribe=e}try{Or={indexedDB:d.indexedDB||d.mozIndexedDB||d.webkitIndexedDB||d.msIndexedDB,IDBKeyRange:d.IDBKeyRange||d.webkitIDBKeyRange}}catch{Or={indexedDB:null,IDBKeyRange:null}}function ao(e){var t,n=!1,o=new Aa(function(s){var c=we(e),f,p=!1,w={},g={},k={get closed(){return p},unsubscribe:function(){p||(p=!0,f&&f.abort(),y&&Nt.storagemutated.unsubscribe(b))}};s.start&&s.start(k);var y=!1,E=function(){return Vr(x)},b=function(O){_r(w,O),si(g,w)&&E()},x=function(){var O,_,P;!p&&Or.indexedDB&&(w={},O={},f&&f.abort(),f=new AbortController,P=function(D){var $=hn();try{c&&mn();var M=jt(e,D);return M=c?M.finally(Kt):M}finally{$&&pn()}}(_={subscr:O,signal:f.signal,requery:E,querier:e,trans:null}),Promise.resolve(P).then(function(D){n=!0,t=D,p||_.signal.aborted||(w={},function($){for(var M in $)if(R($,M))return;return 1}(g=O)||y||(Nt(Ln,b),y=!0),Vr(function(){return!p&&s.next&&s.next(D)}))},function(D){n=!1,["DatabaseClosedError","AbortError"].includes(D==null?void 0:D.name)||p||Vr(function(){p||s.error&&s.error(D)})}))};return setTimeout(E,0),k});return o.hasValue=function(){return n},o.getValue=function(){return t},o}var tn=Dt;function yi(e){var t=qt;try{qt=!0,Nt.storagemutated.fire(e),li(e,!0)}finally{qt=t}}j(tn,a(a({},ut),{delete:function(e){return new tn(e,{addons:[]}).delete()},exists:function(e){return new tn(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return t=tn.dependencies,n=t.indexedDB,t=t.IDBKeyRange,(ri(n)?Promise.resolve(n.databases()).then(function(o){return o.map(function(s){return s.name}).filter(function(s){return s!==cr})}):ni(n,t).toCollection().primaryKeys()).then(e)}catch{return Ve(new ne.MissingAPI)}var t,n},defineClass:function(){return function(e){m(this,e)}},ignoreTransaction:function(e){return re.trans?Qt(re.transless,e):e()},vip:ii,async:function(e){return function(){try{var t=fi(e.apply(this,arguments));return t&&typeof t.then=="function"?t:G.resolve(t)}catch(n){return Ve(n)}}},spawn:function(e,t,n){try{var o=fi(e.apply(n,t||[]));return o&&typeof o.then=="function"?o:G.resolve(o)}catch(s){return Ve(s)}},currentTransaction:{get:function(){return re.trans||null}},waitFor:function(e,t){return t=G.resolve(typeof e=="function"?tn.ignoreTransaction(e):e).timeout(t||6e4),re.trans?re.trans.waitFor(t):t},Promise:G,debug:{get:function(){return it},set:function(e){Mn(e)}},derive:K,extend:m,props:j,override:V,Events:Fn,on:Nt,liveQuery:ao,extendObservabilitySet:_r,getByKeyPath:ue,setByKeyPath:q,delByKeyPath:function(e,t){typeof t=="string"?q(e,t,void 0):"length"in t&&[].map.call(t,function(n){q(e,n,void 0)})},shallowClone:de,deepClone:L,getObjectDiff:di,cmp:Ie,asap:oe,minKey:-1/0,addons:[],connections:yn,errnames:nt,dependencies:Or,cache:en,semVer:"4.0.7",version:"4.0.7".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),tn.maxKey=Vn(tn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Nt(Ln,function(e){qt||(e=new CustomEvent(Gr,{detail:e}),qt=!0,dispatchEvent(e),qt=!1)}),addEventListener(Gr,function(e){e=e.detail,qt||yi(e)}));var bn,qt=!1,so=function(){};return typeof BroadcastChannel<"u"&&((so=function(){(bn=new BroadcastChannel(Gr)).onmessage=function(e){return e.data&&yi(e.data)}})(),typeof bn.unref=="function"&&bn.unref(),Nt(Ln,function(e){qt||bn.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!Dt.disableBfCache&&e.persisted){it&&console.debug("Dexie: handling persisted pagehide"),bn!=null&&bn.close();for(var t=0,n=yn;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Dt.disableBfCache&&e.persisted&&(it&&console.debug("Dexie: handling persisted pageshow"),so(),yi({all:new Je(-1/0,[[]])}))})),G.rejectionMapper=function(e,t){return!e||e instanceof Le||e instanceof TypeError||e instanceof SyntaxError||!e.name||!an[e.name]?e:(t=new an[e.name](t||e.message,e),"stack"in e&&S(t,"stack",{get:function(){return this.inner.stack}}),t)},Mn(it),a(Dt,Object.freeze({__proto__:null,Dexie:Dt,liveQuery:ao,Entity:Fi,cmp:Ie,PropModSymbol:Tt,PropModification:Nn,replacePrefix:function(e,t){return new Nn({replacePrefix:[e,t]})},add:function(e){return new Nn({add:e})},remove:function(e){return new Nn({remove:e})},default:Dt,RangeSet:Je,mergeRanges:Wn,rangesOverlap:wr}),{default:Dt}),Dt})})(qo);var Wa=qo.exports;const xi=La(Wa),ho=Symbol.for("Dexie"),jr=globalThis[ho]||(globalThis[ho]=xi);if(xi.semVer!==jr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${xi.semVer} and ${jr.semVer}`);const{liveQuery:Ua,mergeRanges:Ru,rangesOverlap:Mu,RangeSet:ju,cmp:Ku,Entity:Fu,PropModSymbol:Bu,PropModification:Nu,replacePrefix:qu,add:Lu,remove:Vu}=jr;class Ya extends jr{constructor(){super("LazyVimPageDatabase");uo(this,"chapters");this.version(2).stores({chapters:"id, read"}).upgrade(u=>u.table("chapters").bulkAdd([{id:1,read:null},{id:2,read:null},{id:3,read:null},{id:4,read:null},{id:5,read:null},{id:6,read:null},{id:7,read:null},{id:8,read:null},{id:9,read:null},{id:10,read:null},{id:11,read:null},{id:12,read:null},{id:13,read:null},{id:14,read:null},{id:15,read:null},{id:16,read:null},{id:17,read:null},{id:18,read:null},{id:19,read:null},{id:20,read:null}]))}}const Lo=new Ya;function Ga(r){return Ua(r)}const Xa=/\/course\/chapter-(\d+)\//;function Vo(r){if(!r)return null;const i=r.match(Xa);return i?i[1]:null}function po(r,{delay:i=0,duration:u=400,easing:a=Ta}={}){const l=+getComputedStyle(r).opacity;return{delay:i,duration:u,easing:a,css:d=>`opacity: ${d*l}`}}var mo=Object.prototype.hasOwnProperty;function yo(r,i,u){for(u of r.keys())if(Gn(u,i))return u}function Gn(r,i){var u,a,l;if(r===i)return!0;if(r&&i&&(u=r.constructor)===i.constructor){if(u===Date)return r.getTime()===i.getTime();if(u===RegExp)return r.toString()===i.toString();if(u===Array){if((a=r.length)===i.length)for(;a--&&Gn(r[a],i[a]););return a===-1}if(u===Set){if(r.size!==i.size)return!1;for(a of r)if(l=a,l&&typeof l=="object"&&(l=yo(i,l),!l)||!i.has(l))return!1;return!0}if(u===Map){if(r.size!==i.size)return!1;for(a of r)if(l=a[0],l&&typeof l=="object"&&(l=yo(i,l),!l)||!Gn(a[1],i.get(l)))return!1;return!0}if(u===ArrayBuffer)r=new Uint8Array(r),i=new Uint8Array(i);else if(u===DataView){if((a=r.byteLength)===i.byteLength)for(;a--&&r.getInt8(a)===i.getInt8(a););return a===-1}if(ArrayBuffer.isView(r)){if((a=r.byteLength)===i.byteLength)for(;a--&&r[a]===i[a];);return a===-1}if(!u||typeof r=="object"){a=0;for(u in r)if(mo.call(r,u)&&++a&&!mo.call(i,u)||!(u in i)||!Gn(r[u],i[u]))return!1;return Object.keys(i).length===a}}return r!==r&&i!==i}function ki(r){return Object.keys(r).reduce((i,u)=>r[u]===void 0?i:i+`${u}:${r[u]};`,"")}ki({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Qa(r){if(r!==null)return""}function Ho(r,...i){const u={};for(const a of Object.keys(r))i.includes(a)||(u[a]=r[a]);return u}function Ar(r){const i={};for(const u in r){const a=r[u];a!==void 0&&(i[u]=a)}return i}function vo(r){function i(u){return u(r),()=>{}}return{subscribe:i}}const Pr=r=>new Proxy(r,{get(i,u,a){return Reflect.get(i,u,a)},ownKeys(i){return Reflect.ownKeys(i).filter(u=>u!=="action")}}),go=r=>typeof r=="function";Xn("empty");function Xn(r,i){const{stores:u,action:a,returned:l}=i??{},d=(()=>{if(u&&l)return Nr(u,v=>{const m=l(v);if(go(m)){const C=(...I)=>Pr(Ar({...m(...I),[`data-melt-${r}`]:"",action:a??yt}));return C.action=a??yt,C}return Pr(Ar({...m,[`data-melt-${r}`]:"",action:a??yt}))});{const v=l,m=v==null?void 0:v();if(go(m)){const C=(...I)=>Pr(Ar({...m(...I),[`data-melt-${r}`]:"",action:a??yt}));return C.action=a??yt,vo(C)}return vo(Pr(Ar({...m,[`data-melt-${r}`]:"",action:a??yt})))}})(),h=a??(()=>{});return h.subscribe=d.subscribe,h}function zo(r){const i=d=>d?`${r}-${d}`:r,u=d=>`data-melt-${r}${d?`-${d}`:""}`,a=d=>`[data-melt-${r}${d?`-${d}`:""}]`;return{name:i,attribute:u,selector:a,getEl:d=>document.querySelector(a(d))}}const bo=typeof document<"u";function Ja(r){return r instanceof Document}function Za(r){return r instanceof Element}function wn(r){return r instanceof HTMLElement}function wo(r){return r.pointerType==="touch"}function Dr(...r){return(...i)=>{for(const u of r)typeof u=="function"&&u(...i)}}function yt(){}function Qn(r,i,u,a){const l=Array.isArray(i)?i:[i];return l.forEach(d=>r.addEventListener(d,u,a)),()=>{l.forEach(d=>r.removeEventListener(d,u,a))}}function $t(r,i,u,a){const l=Array.isArray(i)?i:[i];if(typeof u=="function"){const d=ts(h=>u(h));return l.forEach(h=>r.addEventListener(h,d,a)),()=>{l.forEach(h=>r.removeEventListener(h,d,a))}}return()=>void 0}function es(r){const i=r.currentTarget;if(!wn(i))return null;const u=new CustomEvent(`m-${r.type}`,{detail:{originalEvent:r},cancelable:!0});return i.dispatchEvent(u),u}function ts(r){return i=>{const u=es(i);if(!(u!=null&&u.defaultPrevented))return r(i)}}const ns=r=>{try{Da(r)}catch{return r}},rs=r=>{try{$a(r)}catch{return r}};function Ht(r){return{...r,get:()=>Ia(r)}}Ht.writable=function(r){const i=kn(r);let u=r;return{subscribe:i.subscribe,set(a){i.set(a),u=a},update(a){const l=a(u);i.set(l),u=l},get(){return u}}};Ht.derived=function(r,i){const u=new Map,a=()=>{const d=Array.isArray(r)?r.map(h=>h.get()):r.get();return i(d)};return{get:a,subscribe:d=>{const h=[];return(Array.isArray(r)?r:[r]).forEach(m=>{h.push(m.subscribe(()=>{d(a())}))}),d(a()),u.set(d,h),()=>{const m=u.get(d);if(m)for(const C of m)C();u.delete(d)}}}};const is=(r,i)=>{const u=Ht(r),a=(d,h)=>{u.update(v=>{const m=d(v);let C=m;return i&&(C=i({curr:v,next:m})),h==null||h(C),C})};return{...u,update:a,set:d=>{a(()=>d)}}};let os="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",as=(r=21)=>{let i="",u=r;for(;u--;)i+=os[Math.random()*64|0];return i};function ss(){return as(10)}function us(r){return r.reduce((i,u)=>(i[u]=ss(),i),{})}const Wo={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",A:"a",P:"p"};function cs(r){const i=r.slice();return i.sort(fs),ls(i)}function ls(r){if(r.length<=1)return r.slice();const i=[];for(let a=0;a<r.length;a++){const l=r[a];for(;i.length>=2;){const d=i[i.length-1],h=i[i.length-2];if((d.x-h.x)*(l.y-h.y)>=(d.y-h.y)*(l.x-h.x))i.pop();else break}i.push(l)}i.pop();const u=[];for(let a=r.length-1;a>=0;a--){const l=r[a];for(;u.length>=2;){const d=u[u.length-1],h=u[u.length-2];if((d.x-h.x)*(l.y-h.y)>=(d.y-h.y)*(l.x-h.x))u.pop();else break}u.push(l)}return u.pop(),i.length==1&&u.length==1&&i[0].x==u[0].x&&i[0].y==u[0].y?i:i.concat(u)}function fs(r,i){return r.x<i.x?-1:r.x>i.x?1:r.y<i.y?-1:r.y>i.y?1:0}function ds(r){const i=r.getBoundingClientRect();return[{x:i.left,y:i.top},{x:i.right,y:i.top},{x:i.right,y:i.bottom},{x:i.left,y:i.bottom}]}function hs(r){const i=r.flatMap(u=>ds(u));return cs(i)}function ps(r,i){let u=!1;for(let a=0,l=i.length-1;a<i.length;l=a++){const d=i[a].x,h=i[a].y,v=i[l].x,m=i[l].y;h>r.y!=m>r.y&&r.x<(v-d)*(r.y-h)/(m-h)+d&&(u=!u)}return u}function gi(r,i,u={}){const{skipFirstRun:a}=u;let l=!0,d;const h=Nr(r,m=>{d==null||d(),l&&a?l=!1:d=i(m)}).subscribe(yt),v=()=>{h(),d==null||d()};return rs(v),v}function _o(r){const i={};return Object.keys(r).forEach(u=>{const a=u,l=r[a];i[a]=Ht(kn(l))}),i}function ms(r){let i=r.parentElement;for(;wn(i)&&!i.hasAttribute("data-portal");)i=i.parentElement;return i||"body"}function ys(r,i){return i!==void 0?i:ms(r)==="body"?document.body:null}Yn(void 0,r=>{function i(a){r(a),r(void 0)}return Qn(document,"pointerup",i,{passive:!1,capture:!0})});Yn(void 0,r=>{function i(a){a&&a.key===Wo.ESCAPE&&r(a),r(void 0)}return Qn(document,"keydown",i,{passive:!1})});const Ct=Math.min,lt=Math.max,Kr=Math.round,Sr=Math.floor,zt=r=>({x:r,y:r}),vs={left:"right",right:"left",bottom:"top",top:"bottom"},gs={start:"end",end:"start"};function Ei(r,i,u){return lt(r,Ct(i,u))}function Pn(r,i){return typeof r=="function"?r(i):r}function Wt(r){return r.split("-")[0]}function Sn(r){return r.split("-")[1]}function Uo(r){return r==="x"?"y":"x"}function Ai(r){return r==="y"?"height":"width"}function nr(r){return["top","bottom"].includes(Wt(r))?"y":"x"}function Pi(r){return Uo(nr(r))}function bs(r,i,u){u===void 0&&(u=!1);const a=Sn(r),l=Pi(r),d=Ai(l);let h=l==="x"?a===(u?"end":"start")?"right":"left":a==="start"?"bottom":"top";return i.reference[d]>i.floating[d]&&(h=Fr(h)),[h,Fr(h)]}function ws(r){const i=Fr(r);return[Oi(r),i,Oi(i)]}function Oi(r){return r.replace(/start|end/g,i=>gs[i])}function _s(r,i,u){const a=["left","right"],l=["right","left"],d=["top","bottom"],h=["bottom","top"];switch(r){case"top":case"bottom":return u?i?l:a:i?a:l;case"left":case"right":return i?d:h;default:return[]}}function xs(r,i,u,a){const l=Sn(r);let d=_s(Wt(r),u==="start",a);return l&&(d=d.map(h=>h+"-"+l),i&&(d=d.concat(d.map(Oi)))),d}function Fr(r){return r.replace(/left|right|bottom|top/g,i=>vs[i])}function ks(r){return{top:0,right:0,bottom:0,left:0,...r}}function Yo(r){return typeof r!="number"?ks(r):{top:r,right:r,bottom:r,left:r}}function Br(r){const{x:i,y:u,width:a,height:l}=r;return{width:a,height:l,top:u,left:i,right:i+a,bottom:u+l,x:i,y:u}}function xo(r,i,u){let{reference:a,floating:l}=r;const d=nr(i),h=Pi(i),v=Ai(h),m=Wt(i),C=d==="y",I=a.x+a.width/2-l.width/2,R=a.y+a.height/2-l.height/2,j=a[v]/2-l[v]/2;let T;switch(m){case"top":T={x:I,y:a.y-l.height};break;case"bottom":T={x:I,y:a.y+a.height};break;case"right":T={x:a.x+a.width,y:R};break;case"left":T={x:a.x-l.width,y:R};break;default:T={x:a.x,y:a.y}}switch(Sn(i)){case"start":T[h]-=j*(u&&C?-1:1);break;case"end":T[h]+=j*(u&&C?-1:1);break}return T}const Es=async(r,i,u)=>{const{placement:a="bottom",strategy:l="absolute",middleware:d=[],platform:h}=u,v=d.filter(Boolean),m=await(h.isRTL==null?void 0:h.isRTL(i));let C=await h.getElementRects({reference:r,floating:i,strategy:l}),{x:I,y:R}=xo(C,a,m),j=a,T={},S=0;for(let K=0;K<v.length;K++){const{name:A,fn:B}=v[K],{x:ee,y:V,data:ie,reset:oe}=await B({x:I,y:R,initialPlacement:a,placement:j,strategy:l,middlewareData:T,rects:C,platform:h,elements:{reference:r,floating:i}});I=ee??I,R=V??R,T={...T,[A]:{...T[A],...ie}},oe&&S<=50&&(S++,typeof oe=="object"&&(oe.placement&&(j=oe.placement),oe.rects&&(C=oe.rects===!0?await h.getElementRects({reference:r,floating:i,strategy:l}):oe.rects),{x:I,y:R}=xo(C,j,m)),K=-1)}return{x:I,y:R,placement:j,strategy:l,middlewareData:T}};async function Si(r,i){var u;i===void 0&&(i={});const{x:a,y:l,platform:d,rects:h,elements:v,strategy:m}=r,{boundary:C="clippingAncestors",rootBoundary:I="viewport",elementContext:R="floating",altBoundary:j=!1,padding:T=0}=Pn(i,r),S=Yo(T),A=v[j?R==="floating"?"reference":"floating":R],B=Br(await d.getClippingRect({element:(u=await(d.isElement==null?void 0:d.isElement(A)))==null||u?A:A.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(v.floating)),boundary:C,rootBoundary:I,strategy:m})),ee=R==="floating"?{x:a,y:l,width:h.floating.width,height:h.floating.height}:h.reference,V=await(d.getOffsetParent==null?void 0:d.getOffsetParent(v.floating)),ie=await(d.isElement==null?void 0:d.isElement(V))?await(d.getScale==null?void 0:d.getScale(V))||{x:1,y:1}:{x:1,y:1},oe=Br(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:v,rect:ee,offsetParent:V,strategy:m}):ee);return{top:(B.top-oe.top+S.top)/ie.y,bottom:(oe.bottom-B.bottom+S.bottom)/ie.y,left:(B.left-oe.left+S.left)/ie.x,right:(oe.right-B.right+S.right)/ie.x}}const Os=r=>({name:"arrow",options:r,async fn(i){const{x:u,y:a,placement:l,rects:d,platform:h,elements:v,middlewareData:m}=i,{element:C,padding:I=0}=Pn(r,i)||{};if(C==null)return{};const R=Yo(I),j={x:u,y:a},T=Pi(l),S=Ai(T),K=await h.getDimensions(C),A=T==="y",B=A?"top":"left",ee=A?"bottom":"right",V=A?"clientHeight":"clientWidth",ie=d.reference[S]+d.reference[T]-j[T]-d.floating[S],oe=j[T]-d.reference[T],ue=await(h.getOffsetParent==null?void 0:h.getOffsetParent(C));let q=ue?ue[V]:0;(!q||!await(h.isElement==null?void 0:h.isElement(ue)))&&(q=v.floating[V]||d.floating[S]);const de=ie/2-oe/2,ae=q/2-K[S]/2-1,ye=Ct(R[B],ae),pe=Ct(R[ee],ae),Y=ye,L=q-K[S]-pe,se=q/2-K[S]/2+de,he=Ei(Y,se,L),te=!m.arrow&&Sn(l)!=null&&se!==he&&d.reference[S]/2-(se<Y?ye:pe)-K[S]/2<0,J=te?se<Y?se-Y:se-L:0;return{[T]:j[T]+J,data:{[T]:he,centerOffset:se-he-J,...te&&{alignmentOffset:J}},reset:te}}}),Cs=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(i){var u,a;const{placement:l,middlewareData:d,rects:h,initialPlacement:v,platform:m,elements:C}=i,{mainAxis:I=!0,crossAxis:R=!0,fallbackPlacements:j,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:K=!0,...A}=Pn(r,i);if((u=d.arrow)!=null&&u.alignmentOffset)return{};const B=Wt(l),ee=Wt(v)===v,V=await(m.isRTL==null?void 0:m.isRTL(C.floating)),ie=j||(ee||!K?[Fr(v)]:ws(v));!j&&S!=="none"&&ie.push(...xs(v,K,S,V));const oe=[v,...ie],ue=await Si(i,A),q=[];let de=((a=d.flip)==null?void 0:a.overflows)||[];if(I&&q.push(ue[B]),R){const Y=bs(l,h,V);q.push(ue[Y[0]],ue[Y[1]])}if(de=[...de,{placement:l,overflows:q}],!q.every(Y=>Y<=0)){var ae,ye;const Y=(((ae=d.flip)==null?void 0:ae.index)||0)+1,L=oe[Y];if(L)return{data:{index:Y,overflows:de},reset:{placement:L}};let se=(ye=de.filter(he=>he.overflows[0]<=0).sort((he,te)=>he.overflows[1]-te.overflows[1])[0])==null?void 0:ye.placement;if(!se)switch(T){case"bestFit":{var pe;const he=(pe=de.map(te=>[te.placement,te.overflows.filter(J=>J>0).reduce((J,ce)=>J+ce,0)]).sort((te,J)=>te[1]-J[1])[0])==null?void 0:pe[0];he&&(se=he);break}case"initialPlacement":se=v;break}if(l!==se)return{reset:{placement:se}}}return{}}}};async function As(r,i){const{placement:u,platform:a,elements:l}=r,d=await(a.isRTL==null?void 0:a.isRTL(l.floating)),h=Wt(u),v=Sn(u),m=nr(u)==="y",C=["left","top"].includes(h)?-1:1,I=d&&m?-1:1,R=Pn(i,r);let{mainAxis:j,crossAxis:T,alignmentAxis:S}=typeof R=="number"?{mainAxis:R,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...R};return v&&typeof S=="number"&&(T=v==="end"?S*-1:S),m?{x:T*I,y:j*C}:{x:j*C,y:T*I}}const Ps=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(i){var u,a;const{x:l,y:d,placement:h,middlewareData:v}=i,m=await As(i,r);return h===((u=v.offset)==null?void 0:u.placement)&&(a=v.arrow)!=null&&a.alignmentOffset?{}:{x:l+m.x,y:d+m.y,data:{...m,placement:h}}}}},Ss=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(i){const{x:u,y:a,placement:l}=i,{mainAxis:d=!0,crossAxis:h=!1,limiter:v={fn:A=>{let{x:B,y:ee}=A;return{x:B,y:ee}}},...m}=Pn(r,i),C={x:u,y:a},I=await Si(i,m),R=nr(Wt(l)),j=Uo(R);let T=C[j],S=C[R];if(d){const A=j==="y"?"top":"left",B=j==="y"?"bottom":"right",ee=T+I[A],V=T-I[B];T=Ei(ee,T,V)}if(h){const A=R==="y"?"top":"left",B=R==="y"?"bottom":"right",ee=S+I[A],V=S-I[B];S=Ei(ee,S,V)}const K=v.fn({...i,[j]:T,[R]:S});return{...K,data:{x:K.x-u,y:K.y-a}}}}},Ts=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(i){const{placement:u,rects:a,platform:l,elements:d}=i,{apply:h=()=>{},...v}=Pn(r,i),m=await Si(i,v),C=Wt(u),I=Sn(u),R=nr(u)==="y",{width:j,height:T}=a.floating;let S,K;C==="top"||C==="bottom"?(S=C,K=I===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(K=C,S=I==="end"?"top":"bottom");const A=T-m.top-m.bottom,B=j-m.left-m.right,ee=Ct(T-m[S],A),V=Ct(j-m[K],B),ie=!i.middlewareData.shift;let oe=ee,ue=V;if(R?ue=I||ie?Ct(V,B):B:oe=I||ie?Ct(ee,A):A,ie&&!I){const de=lt(m.left,0),ae=lt(m.right,0),ye=lt(m.top,0),pe=lt(m.bottom,0);R?ue=j-2*(de!==0||ae!==0?de+ae:lt(m.left,m.right)):oe=T-2*(ye!==0||pe!==0?ye+pe:lt(m.top,m.bottom))}await h({...i,availableWidth:ue,availableHeight:oe});const q=await l.getDimensions(d.floating);return j!==q.width||T!==q.height?{reset:{rects:!0}}:{}}}};function Tn(r){return Go(r)?(r.nodeName||"").toLowerCase():"#document"}function ft(r){var i;return(r==null||(i=r.ownerDocument)==null?void 0:i.defaultView)||window}function It(r){var i;return(i=(Go(r)?r.ownerDocument:r.document)||window.document)==null?void 0:i.documentElement}function Go(r){return r instanceof Node||r instanceof ft(r).Node}function At(r){return r instanceof Element||r instanceof ft(r).Element}function Pt(r){return r instanceof HTMLElement||r instanceof ft(r).HTMLElement}function ko(r){return typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ft(r).ShadowRoot}function rr(r){const{overflow:i,overflowX:u,overflowY:a,display:l}=vt(r);return/auto|scroll|overlay|hidden|clip/.test(i+a+u)&&!["inline","contents"].includes(l)}function Ds(r){return["table","td","th"].includes(Tn(r))}function Ti(r){const i=Di(),u=vt(r);return u.transform!=="none"||u.perspective!=="none"||(u.containerType?u.containerType!=="normal":!1)||!i&&(u.backdropFilter?u.backdropFilter!=="none":!1)||!i&&(u.filter?u.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(u.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(u.contain||"").includes(a))}function $s(r){let i=Ut(r);for(;Pt(i)&&!En(i);){if(Ti(i))return i;i=Ut(i)}return null}function Di(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function En(r){return["html","body","#document"].includes(Tn(r))}function vt(r){return ft(r).getComputedStyle(r)}function qr(r){return At(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.pageXOffset,scrollTop:r.pageYOffset}}function Ut(r){if(Tn(r)==="html")return r;const i=r.assignedSlot||r.parentNode||ko(r)&&r.host||It(r);return ko(i)?i.host:i}function Xo(r){const i=Ut(r);return En(i)?r.ownerDocument?r.ownerDocument.body:r.body:Pt(i)&&rr(i)?i:Xo(i)}function Zn(r,i,u){var a;i===void 0&&(i=[]),u===void 0&&(u=!0);const l=Xo(r),d=l===((a=r.ownerDocument)==null?void 0:a.body),h=ft(l);return d?i.concat(h,h.visualViewport||[],rr(l)?l:[],h.frameElement&&u?Zn(h.frameElement):[]):i.concat(l,Zn(l,[],u))}function Qo(r){const i=vt(r);let u=parseFloat(i.width)||0,a=parseFloat(i.height)||0;const l=Pt(r),d=l?r.offsetWidth:u,h=l?r.offsetHeight:a,v=Kr(u)!==d||Kr(a)!==h;return v&&(u=d,a=h),{width:u,height:a,$:v}}function $i(r){return At(r)?r:r.contextElement}function _n(r){const i=$i(r);if(!Pt(i))return zt(1);const u=i.getBoundingClientRect(),{width:a,height:l,$:d}=Qo(i);let h=(d?Kr(u.width):u.width)/a,v=(d?Kr(u.height):u.height)/l;return(!h||!Number.isFinite(h))&&(h=1),(!v||!Number.isFinite(v))&&(v=1),{x:h,y:v}}const Is=zt(0);function Jo(r){const i=ft(r);return!Di()||!i.visualViewport?Is:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function Rs(r,i,u){return i===void 0&&(i=!1),!u||i&&u!==ft(r)?!1:i}function on(r,i,u,a){i===void 0&&(i=!1),u===void 0&&(u=!1);const l=r.getBoundingClientRect(),d=$i(r);let h=zt(1);i&&(a?At(a)&&(h=_n(a)):h=_n(r));const v=Rs(d,u,a)?Jo(d):zt(0);let m=(l.left+v.x)/h.x,C=(l.top+v.y)/h.y,I=l.width/h.x,R=l.height/h.y;if(d){const j=ft(d),T=a&&At(a)?ft(a):a;let S=j,K=S.frameElement;for(;K&&a&&T!==S;){const A=_n(K),B=K.getBoundingClientRect(),ee=vt(K),V=B.left+(K.clientLeft+parseFloat(ee.paddingLeft))*A.x,ie=B.top+(K.clientTop+parseFloat(ee.paddingTop))*A.y;m*=A.x,C*=A.y,I*=A.x,R*=A.y,m+=V,C+=ie,S=ft(K),K=S.frameElement}}return Br({width:I,height:R,x:m,y:C})}const Ms=[":popover-open",":modal"];function Ii(r){return Ms.some(i=>{try{return r.matches(i)}catch{return!1}})}function js(r){let{elements:i,rect:u,offsetParent:a,strategy:l}=r;const d=l==="fixed",h=It(a),v=i?Ii(i.floating):!1;if(a===h||v&&d)return u;let m={scrollLeft:0,scrollTop:0},C=zt(1);const I=zt(0),R=Pt(a);if((R||!R&&!d)&&((Tn(a)!=="body"||rr(h))&&(m=qr(a)),Pt(a))){const j=on(a);C=_n(a),I.x=j.x+a.clientLeft,I.y=j.y+a.clientTop}return{width:u.width*C.x,height:u.height*C.y,x:u.x*C.x-m.scrollLeft*C.x+I.x,y:u.y*C.y-m.scrollTop*C.y+I.y}}function Ks(r){return Array.from(r.getClientRects())}function Zo(r){return on(It(r)).left+qr(r).scrollLeft}function Fs(r){const i=It(r),u=qr(r),a=r.ownerDocument.body,l=lt(i.scrollWidth,i.clientWidth,a.scrollWidth,a.clientWidth),d=lt(i.scrollHeight,i.clientHeight,a.scrollHeight,a.clientHeight);let h=-u.scrollLeft+Zo(r);const v=-u.scrollTop;return vt(a).direction==="rtl"&&(h+=lt(i.clientWidth,a.clientWidth)-l),{width:l,height:d,x:h,y:v}}function Bs(r,i){const u=ft(r),a=It(r),l=u.visualViewport;let d=a.clientWidth,h=a.clientHeight,v=0,m=0;if(l){d=l.width,h=l.height;const C=Di();(!C||C&&i==="fixed")&&(v=l.offsetLeft,m=l.offsetTop)}return{width:d,height:h,x:v,y:m}}function Ns(r,i){const u=on(r,!0,i==="fixed"),a=u.top+r.clientTop,l=u.left+r.clientLeft,d=Pt(r)?_n(r):zt(1),h=r.clientWidth*d.x,v=r.clientHeight*d.y,m=l*d.x,C=a*d.y;return{width:h,height:v,x:m,y:C}}function Eo(r,i,u){let a;if(i==="viewport")a=Bs(r,u);else if(i==="document")a=Fs(It(r));else if(At(i))a=Ns(i,u);else{const l=Jo(r);a={...i,x:i.x-l.x,y:i.y-l.y}}return Br(a)}function ea(r,i){const u=Ut(r);return u===i||!At(u)||En(u)?!1:vt(u).position==="fixed"||ea(u,i)}function qs(r,i){const u=i.get(r);if(u)return u;let a=Zn(r,[],!1).filter(v=>At(v)&&Tn(v)!=="body"),l=null;const d=vt(r).position==="fixed";let h=d?Ut(r):r;for(;At(h)&&!En(h);){const v=vt(h),m=Ti(h);!m&&v.position==="fixed"&&(l=null),(d?!m&&!l:!m&&v.position==="static"&&!!l&&["absolute","fixed"].includes(l.position)||rr(h)&&!m&&ea(r,h))?a=a.filter(I=>I!==h):l=v,h=Ut(h)}return i.set(r,a),a}function Ls(r){let{element:i,boundary:u,rootBoundary:a,strategy:l}=r;const h=[...u==="clippingAncestors"?Ii(i)?[]:qs(i,this._c):[].concat(u),a],v=h[0],m=h.reduce((C,I)=>{const R=Eo(i,I,l);return C.top=lt(R.top,C.top),C.right=Ct(R.right,C.right),C.bottom=Ct(R.bottom,C.bottom),C.left=lt(R.left,C.left),C},Eo(i,v,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Vs(r){const{width:i,height:u}=Qo(r);return{width:i,height:u}}function Hs(r,i,u){const a=Pt(i),l=It(i),d=u==="fixed",h=on(r,!0,d,i);let v={scrollLeft:0,scrollTop:0};const m=zt(0);if(a||!a&&!d)if((Tn(i)!=="body"||rr(l))&&(v=qr(i)),a){const R=on(i,!0,d,i);m.x=R.x+i.clientLeft,m.y=R.y+i.clientTop}else l&&(m.x=Zo(l));const C=h.left+v.scrollLeft-m.x,I=h.top+v.scrollTop-m.y;return{x:C,y:I,width:h.width,height:h.height}}function bi(r){return vt(r).position==="static"}function Oo(r,i){return!Pt(r)||vt(r).position==="fixed"?null:i?i(r):r.offsetParent}function ta(r,i){const u=ft(r);if(Ii(r))return u;if(!Pt(r)){let l=Ut(r);for(;l&&!En(l);){if(At(l)&&!bi(l))return l;l=Ut(l)}return u}let a=Oo(r,i);for(;a&&Ds(a)&&bi(a);)a=Oo(a,i);return a&&En(a)&&bi(a)&&!Ti(a)?u:a||$s(r)||u}const zs=async function(r){const i=this.getOffsetParent||ta,u=this.getDimensions,a=await u(r.floating);return{reference:Hs(r.reference,await i(r.floating),r.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Ws(r){return vt(r).direction==="rtl"}const Us={convertOffsetParentRelativeRectToViewportRelativeRect:js,getDocumentElement:It,getClippingRect:Ls,getOffsetParent:ta,getElementRects:zs,getClientRects:Ks,getDimensions:Vs,getScale:_n,isElement:At,isRTL:Ws};function Ys(r,i){let u=null,a;const l=It(r);function d(){var v;clearTimeout(a),(v=u)==null||v.disconnect(),u=null}function h(v,m){v===void 0&&(v=!1),m===void 0&&(m=1),d();const{left:C,top:I,width:R,height:j}=r.getBoundingClientRect();if(v||i(),!R||!j)return;const T=Sr(I),S=Sr(l.clientWidth-(C+R)),K=Sr(l.clientHeight-(I+j)),A=Sr(C),ee={rootMargin:-T+"px "+-S+"px "+-K+"px "+-A+"px",threshold:lt(0,Ct(1,m))||1};let V=!0;function ie(oe){const ue=oe[0].intersectionRatio;if(ue!==m){if(!V)return h();ue?h(!1,ue):a=setTimeout(()=>{h(!1,1e-7)},1e3)}V=!1}try{u=new IntersectionObserver(ie,{...ee,root:l.ownerDocument})}catch{u=new IntersectionObserver(ie,ee)}u.observe(r)}return h(!0),d}function Gs(r,i,u,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:d=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:v=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,C=$i(r),I=l||d?[...C?Zn(C):[],...Zn(i)]:[];I.forEach(B=>{l&&B.addEventListener("scroll",u,{passive:!0}),d&&B.addEventListener("resize",u)});const R=C&&v?Ys(C,u):null;let j=-1,T=null;h&&(T=new ResizeObserver(B=>{let[ee]=B;ee&&ee.target===C&&T&&(T.unobserve(i),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var V;(V=T)==null||V.observe(i)})),u()}),C&&!m&&T.observe(C),T.observe(i));let S,K=m?on(r):null;m&&A();function A(){const B=on(r);K&&(B.x!==K.x||B.y!==K.y||B.width!==K.width||B.height!==K.height)&&u(),K=B,S=requestAnimationFrame(A)}return u(),()=>{var B;I.forEach(ee=>{l&&ee.removeEventListener("scroll",u),d&&ee.removeEventListener("resize",u)}),R==null||R(),(B=T)==null||B.disconnect(),T=null,m&&cancelAnimationFrame(S)}}const Xs=Ps,Qs=Ss,Js=Cs,Zs=Ts,eu=Os,tu=(r,i,u)=>{const a=new Map,l={platform:Us,...u},d={...l.platform,_c:a};return Es(r,i,{...l,platform:d})},nu={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},ru={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function iu(r,i,u={}){if(!i||!r||u===null)return{destroy:yt};const a={...nu,...u},l=i.querySelector("[data-arrow=true]"),d=[];a.flip&&d.push(Js({boundary:a.boundary,padding:a.overflowPadding}));const h=wn(l)?l.offsetHeight/2:0;if(a.gutter||a.offset){const m=a.gutter?{mainAxis:a.gutter}:a.offset;(m==null?void 0:m.mainAxis)!=null&&(m.mainAxis+=h),d.push(Xs(m))}d.push(Qs({boundary:a.boundary,crossAxis:a.overlap,padding:a.overflowPadding})),l&&d.push(eu({element:l,padding:8})),d.push(Zs({padding:a.overflowPadding,apply({rects:m,availableHeight:C,availableWidth:I}){a.sameWidth&&Object.assign(i.style,{width:`${Math.round(m.reference.width)}px`,minWidth:"unset"}),a.fitViewport&&Object.assign(i.style,{maxWidth:`${I}px`,maxHeight:`${C}px`})}}));function v(){if(!r||!i||wn(r)&&!r.ownerDocument.documentElement.contains(r))return;const{placement:m,strategy:C}=a;tu(r,i,{placement:m,middleware:d,strategy:C}).then(I=>{const R=Math.round(I.x),j=Math.round(I.y),[T,S]=ou(I.placement);if(i.setAttribute("data-side",T),i.setAttribute("data-align",S),Object.assign(i.style,{position:a.strategy,top:`${j}px`,left:`${R}px`}),wn(l)&&I.middlewareData.arrow){const{x:K,y:A}=I.middlewareData.arrow,B=I.placement.split("-")[0];l.setAttribute("data-side",B),Object.assign(l.style,{position:"absolute",left:K!=null?`${K}px`:"",top:A!=null?`${A}px`:"",[B]:`calc(100% - ${h}px)`,transform:ru[B],backgroundColor:"inherit",zIndex:"inherit"})}return I})}return Object.assign(i.style,{position:a.strategy}),{destroy:Gs(r,i,v)}}function ou(r){const[i,u="center"]=r.split("-");return[i,u]}const au=(r,i="body")=>{let u;if(!wn(i)&&typeof i!="string")return{destroy:yt};async function a(d){if(i=d,typeof i=="string"){if(u=document.querySelector(i),u===null&&(await Ko(),u=document.querySelector(i)),u===null)throw new Error(`No element found matching css selector: "${i}"`)}else if(i instanceof HTMLElement)u=i;else throw new TypeError(`Unknown portal target type: ${i===null?"null":typeof i}. Allowed types: string (CSS selector) or HTMLElement.`);r.dataset.portal="",u.appendChild(r),r.hidden=!1}function l(){r.remove()}return a(i),{update:a,destroy:l}};Yn(!1),Yn(!1),Yn(void 0);const su={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Ho(su,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const uu={exclude:["h1"],scrollOffset:0,scrollBehaviour:"smooth",activeType:"lowest"};function cu(r){const i={...uu,...r},{selector:u,exclude:a,activeType:l,scrollBehaviour:d,scrollOffset:h,headingFilterFn:v,scrollFn:m}=i,{name:C}=zo("table-of-contents"),I=["h1","h2","h3","h4","h5","h6"];let R=[],j=[],T={},S={};const K=Ht.writable([]),A=Ht.writable([]);let B=null,ee=null,V=null;const ie=.01,oe=Ht(kn([])),ue=Ht(kn([]));function q(te){let J=[],ce=[];const Z=I.filter(we=>!a.includes(we)),be=te==null?void 0:te.querySelectorAll(Z.join(", "));return be==null||be.forEach(we=>{if(!we.id){const Me=we.innerText.replaceAll(/[^a-zA-Z0-9 ]/g,"").replaceAll(" ","-").toLowerCase();we.id=`${Me}`}J.push(we)}),J=[...J],v&&(J=J.filter(we=>v(we))),ce=[].slice.call(te==null?void 0:te.getElementsByTagName("*")),ce=ce.filter(we=>Z.includes(we.nodeName.toLowerCase())||we.children.length===0),ce.splice(0,ce.indexOf(J[0])),{headingsList:J,elementsList:ce}}function de(te,J=0){const ce=[];let Z=0;for(;Z<te.length;){const be={title:te[Z].innerText,index:J+Z,id:te[Z].id,node:te[Z],children:[]};let we=Z+1;for(;we<te.length&&parseInt(te[we].tagName.charAt(1))>parseInt(te[Z].tagName.charAt(1));)we++;be.children=de(te.slice(Z+1,we),J+Z+1),ce.push(be),Z=we}return ce}function ae(te){const J=document.getElementById(te);if(J){const Z=J.getBoundingClientRect().top+window.scrollY-h;window.scrollTo({top:Z,behavior:d})}}const ye=l==="highest-parents"||l==="lowest-parents"||l==="all-parents";function pe(te){for(let Z=0;Z<te.length;Z++){const be=j.indexOf(te[Z].target),we=T[be];let Me=A.get();te[Z].intersectionRatio>=ie?Me.indexOf(be)===-1&&(Me=[...Me,be],A.set(Me),ye&&S[we]&&K.update(Le=>[...Le,...S[we]])):(Me=Me.filter(Le=>Le!==be),A.set(Me),ye&&S[we]&&K.update(Le=>{var Xe;const gt=[...Le];return(Xe=S[we])==null||Xe.forEach(dt=>{const nt=gt.indexOf(dt);gt.splice(nt,1)}),gt}))}const J=Array.from(new Set(A.get().map(Z=>T[Z])));let ce;if(J.length===0)ce=[];else switch(l){case"highest":ce=[Math.min(...J)];break;case"lowest":ce=[Math.max(...J)];break;case"all":ce=J;break;case"all-parents":{const Z=J.flatMap(be=>S[be]??[]);ce=[...J,...Z];break}default:{const Z=l==="highest-parents"?Math.min(...J):Math.max(...J);S[Z]?ce=[...S[Z],Z]:ce=[Z]}}oe.set(ce)}function Y(){V==null||V.disconnect(),R.forEach((te,J)=>{S[J]=null;let ce=te.tagName,Z=[];for(let Me=J-1;Me>=0;Me--)R[Me].tagName<ce&&(ce=R[Me].tagName,Z=[...Z,Me]);S[J]=Z.length>0?Z:null;const be=j.indexOf(R[J]),we=J!==R.length-1?j.indexOf(R[J+1]):j.length;for(let Me=be;Me<we;Me++)T[Me]=J}),ue.set(de(R)),l!=="none"&&(V=new IntersectionObserver(pe,{root:null,threshold:ie}),j.forEach(te=>V==null?void 0:V.observe(te)))}function L(){const te=document.querySelector(u);if(!te)return;const{headingsList:J,elementsList:ce}=q(te);Gn(R,J)||(R=J,j=ce,S={},T={},Y())}ns(()=>{if(B=document.querySelector(u),!!B)return{headingsList:R,elementsList:j}=q(B),Y(),ee=new MutationObserver(L),ee.observe(B,{childList:!0,subtree:!0}),()=>{V==null||V.disconnect(),ee==null||ee.disconnect()}});const se=Xn(C("item"),{stores:oe,returned:te=>J=>{const ce=R.findIndex(be=>be.id===J),Z=te.includes(ce);return{"data-id":J,"data-active":Z?"":void 0}},action:te=>{const J=te.getAttribute("data-id");return{destroy:Dr($t(te,"click",Z=>{Z.preventDefault(),m?m(`${J}`):ae(`${J}`),J&&history.pushState({},"",`#${J}`)}))}}}),he=Nr(oe,te=>J=>{const ce=R.findIndex(Z=>Z.id===J);return te.includes(ce)});return{elements:{item:se},states:{activeHeadingIdxs:oe,headingsTree:ue},helpers:{isActive:he}}}const lu={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:wi}=zo("tooltip"),Tr=new Map,fu=["trigger","content"];function du(r){const i={...lu,...r},u=_o(Ho(i,"open","ids")),{positioning:a,arrowSize:l,closeOnPointerDown:d,openDelay:h,closeDelay:v,forceVisible:m,portal:C,closeOnEscape:I,disableHoverableContent:R,group:j}=u,T=i.open??kn(i.defaultOpen),S=is(T,i==null?void 0:i.onOpenChange),K=kn(null),A=_o({...us(fu),...i.ids});let B=!1;const ee=Y=>bo?document.getElementById(A[Y].get()):null;let V=null,ie=null;function oe(Y){ie&&(window.clearTimeout(ie),ie=null),V||(V=window.setTimeout(()=>{S.set(!0),K.update(L=>L??Y),V=null},h.get()))}function ue(Y){if(V&&(window.clearTimeout(V),V=null),Y&&pe){K.set("pointer");return}ie||(ie=window.setTimeout(()=>{S.set(!1),K.set(null),Y&&(B=!1),ie=null},v.get()))}const q=Nr([S,m],([Y,L])=>Y||L),de=Xn(wi("trigger"),{stores:[A.content,A.trigger,S],returned:([Y,L,se])=>({"aria-describedby":Y,id:L,"data-state":se?"open":"closed"}),action:Y=>{const L=he=>{I.get()&&he.key===Wo.ESCAPE&&(V&&(window.clearTimeout(V),V=null),S.set(!1))};return{destroy:Dr($t(Y,"pointerdown",()=>{d.get()&&(S.set(!1),B=!0,V&&(window.clearTimeout(V),V=null))}),$t(Y,"pointerenter",he=>{wo(he)||oe("pointer")}),$t(Y,"pointerleave",he=>{wo(he)||V&&(window.clearTimeout(V),V=null)}),$t(Y,"focus",()=>{B||oe("focus")}),$t(Y,"blur",()=>ue(!0)),$t(Y,"keydown",L),Qn(document,"keydown",L))}}}),ae=Xn(wi("content"),{stores:[q,S,C,A.content],returned:([Y,L,se,he])=>({role:"tooltip",hidden:Y?void 0:!0,tabindex:-1,style:Y?void 0:ki({display:"none"}),id:he,"data-portal":Qa(se),"data-state":L?"open":"closed"}),action:Y=>{let L=yt,se=yt;const he=gi([q,a,C],([ce,Z,be])=>{se(),L();const we=ee("trigger");!ce||!we||Ko().then(()=>{se(),L();const Me=ys(Y,be);Me&&(se=au(Y,Me).destroy),L=iu(we,Y,Z).destroy})});function te(ce){if(!S.get())return;const Z=ce.target;if(!Za(Z)&&!Ja(Z))return;const be=ee("trigger");be&&Z.contains(be)&&ue()}const J=Dr($t(Y,"pointerenter",()=>oe("pointer")),$t(Y,"pointerdown",()=>oe("pointer")),Qn(window,"scroll",te,{capture:!0}));return{destroy(){J(),se(),L(),he()}}}}),ye=Xn(wi("arrow"),{stores:l,returned:Y=>({"data-arrow":!0,style:ki({position:"absolute",width:`var(--arrow-size, ${Y}px)`,height:`var(--arrow-size, ${Y}px)`})})});let pe=!1;return gi(S,Y=>{const L=j.get();if(L===void 0||L===!1)return;if(!Y){Tr.get(L)===S&&Tr.delete(L);return}const se=Tr.get(L);se==null||se.set(!1),Tr.set(L,S)}),gi([S,K],([Y,L])=>{if(!(!Y||!bo))return Dr(Qn(document,"mousemove",se=>{const he=ee("content"),te=ee("trigger");if(!he||!te)return;const J=R.get()?[te]:[te,he],ce=hs(J);pe=ps({x:se.clientX,y:se.clientY},ce),L==="pointer"&&(pe||ue())}))}),{ids:A,elements:{trigger:de,content:ae,arrow:ye},states:{open:S},options:u}}function hu(r){let i,u,a,l,d,h,v,m,C,I,R,j,T=r[9]&&Co(r),S=[{class:"disabled"},r[8]],K={};for(let A=0;A<S.length;A+=1)K=$r(K,S[A]);return{c(){i=Ae("li"),u=Ae("iconify-icon"),a=Ee(),l=Ae("span"),d=at("Chapter "),h=at(r[5]),v=Ee(),m=Ae("span"),C=at(r[1]),I=Ee(),T&&T.c(),this.h()},l(A){i=Pe(A,"LI",{class:!0});var B=Re(i);u=Pe(B,"ICONIFY-ICON",{icon:!0}),Re(u).forEach(le),a=Oe(B),l=Pe(B,"SPAN",{class:!0});var ee=Re(l);d=st(ee,"Chapter "),h=st(ee,r[5]),v=Oe(ee),m=Pe(ee,"SPAN",{class:!0});var V=Re(m);C=st(V,r[1]),V.forEach(le),ee.forEach(le),I=Oe(B),T&&T.l(B),B.forEach(le),this.h()},h(){rn(u,"icon",r[6]),ge(m,"class","title svelte-yt7c6b"),ge(l,"class","chapterNumber svelte-yt7c6b"),Vt(i,K),ot(i,"svelte-yt7c6b",!0)},m(A,B){Ge(A,i,B),Q(i,u),Q(i,a),Q(i,l),Q(l,d),Q(l,h),Q(l,v),Q(l,m),Q(m,C),Q(i,I),T&&T.m(i,null),R||(j=Ir(r[8].action(i)),R=!0)},p(A,B){B&64&&rn(u,"icon",A[6]),B&32&&xn(h,A[5]),B&2&&xn(C,A[1]),A[9]?T?(T.p(A,B),B&512&&_e(T,1)):(T=Co(A),T.c(),_e(T,1),T.m(i,null)):T&&(Cn(),Se(T,1,1,()=>{T=null}),An()),Vt(i,K=Mr(S,[{class:"disabled"},B&256&&A[8]])),ot(i,"svelte-yt7c6b",!0)},d(A){A&&le(i),T&&T.d(),R=!1,j()}}}function pu(r){let i,u,a,l,d,h,v,m,C,I,R,j;return{c(){i=Ae("li"),u=Ae("iconify-icon"),a=Ee(),l=Ae("a"),d=at("Chapter "),h=at(r[5]),v=Ee(),m=Ae("span"),C=at(r[1]),this.h()},l(T){i=Pe(T,"LI",{class:!0});var S=Re(i);u=Pe(S,"ICONIFY-ICON",{icon:!0}),Re(u).forEach(le),a=Oe(S),l=Pe(S,"A",{href:!0,class:!0});var K=Re(l);d=st(K,"Chapter "),h=st(K,r[5]),v=Oe(K),m=Pe(K,"SPAN",{class:!0});var A=Re(m);C=st(A,r[1]),A.forEach(le),K.forEach(le),S.forEach(le),this.h()},h(){rn(u,"icon","fa:external-link"),ge(m,"class","title svelte-yt7c6b"),ge(l,"href",I="/course/chapter-"+r[5]+"/"),ge(l,"class","svelte-yt7c6b"),ge(i,"class","svelte-yt7c6b"),ot(i,"isCurrent",r[0])},m(T,S){Ge(T,i,S),Q(i,u),Q(i,a),Q(i,l),Q(l,d),Q(l,h),Q(l,v),Q(l,m),Q(m,C),R||(j=Ci(l,"click",function(){Bo(r[2])&&r[2].apply(this,arguments)}),R=!0)},p(T,S){r=T,S&32&&xn(h,r[5]),S&2&&xn(C,r[1]),S&32&&I!==(I="/course/chapter-"+r[5]+"/")&&ge(l,"href",I),S&1&&ot(i,"isCurrent",r[0])},d(T){T&&le(i),R=!1,j()}}}function mu(r){let i,u,a,l,d,h,v,m,C,I,R,j;return{c(){i=Ae("li"),u=Ae("iconify-icon"),a=Ee(),l=Ae("a"),d=at("Chapter "),h=at(r[5]),v=Ee(),m=Ae("span"),C=at(r[1]),this.h()},l(T){i=Pe(T,"LI",{class:!0});var S=Re(i);u=Pe(S,"ICONIFY-ICON",{icon:!0}),Re(u).forEach(le),a=Oe(S),l=Pe(S,"A",{href:!0,class:!0});var K=Re(l);d=st(K,"Chapter "),h=st(K,r[5]),v=Oe(K),m=Pe(K,"SPAN",{class:!0});var A=Re(m);C=st(A,r[1]),A.forEach(le),K.forEach(le),S.forEach(le),this.h()},h(){rn(u,"icon",r[6]),ge(m,"class","title svelte-yt7c6b"),ge(l,"href",I="/course/chapter-"+r[5]+"/"),ge(l,"class","svelte-yt7c6b"),ge(i,"class","svelte-yt7c6b"),ot(i,"isCurrent",r[0])},m(T,S){Ge(T,i,S),Q(i,u),Q(i,a),Q(i,l),Q(l,d),Q(l,h),Q(l,v),Q(l,m),Q(m,C),R||(j=Ci(l,"click",function(){Bo(r[2])&&r[2].apply(this,arguments)}),R=!0)},p(T,S){r=T,S&64&&rn(u,"icon",r[6]),S&32&&xn(h,r[5]),S&2&&xn(C,r[1]),S&32&&I!==(I="/course/chapter-"+r[5]+"/")&&ge(l,"href",I),S&1&&ot(i,"isCurrent",r[0])},d(T){T&&le(i),R=!1,j()}}}function Co(r){let i,u,a,l,d,h,v,m=[r[11]],C={};for(let j=0;j<m.length;j+=1)C=$r(C,m[j]);let I=[r[10],{class:"tooltipContent"}],R={};for(let j=0;j<I.length;j+=1)R=$r(R,I[j]);return{c(){i=Ae("div"),u=Ae("div"),a=at(`
				Content can be previewed on Patreon`),this.h()},l(j){i=Pe(j,"DIV",{class:!0});var T=Re(i);u=Pe(T,"DIV",{}),Re(u).forEach(le),a=st(T,`
				Content can be previewed on Patreon`),T.forEach(le),this.h()},h(){Vt(u,C),ot(u,"svelte-yt7c6b",!0),Vt(i,R),ot(i,"svelte-yt7c6b",!0)},m(j,T){Ge(j,i,T),Q(i,u),Q(i,a),d=!0,h||(v=[Ir(r[11].action(u)),Ir(r[10].action(i))],h=!0)},p(j,T){Vt(u,C=Mr(m,[T&2048&&j[11]])),ot(u,"svelte-yt7c6b",!0),Vt(i,R=Mr(I,[T&1024&&j[10],{class:"tooltipContent"}])),ot(i,"svelte-yt7c6b",!0)},i(j){d||(j&&Ra(()=>{d&&(l||(l=co(i,po,{duration:100},!0)),l.run(1))}),d=!0)},o(j){j&&(l||(l=co(i,po,{duration:100},!1)),l.run(0)),d=!1},d(j){j&&le(i),j&&l&&l.end(),h=!1,jo(v)}}}function yu(r){let i;function u(d,h){return d[3]?mu:d[4]?pu:hu}let a=u(r),l=a(r);return{c(){l.c(),i=Rr()},l(d){l.l(d),i=Rr()},m(d,h){l.m(d,h),Ge(d,i,h)},p(d,[h]){a===(a=u(d))&&l?l.p(d,h):(l.d(1),l=a(d),l&&(l.c(),l.m(i.parentNode,i)))},i:Jn,o:Jn,d(d){d&&le(i),l.d(d)}}}function vu(r,i,u){let a,l,d,h,v=Jn,m=()=>(v(),v=Fo(l,q=>u(17,h=q)),l),C,I,R,j;r.$$.on_destroy.push(()=>v());let{chapter:T}=i,{isCurrent:S}=i,{name:K}=i,{hideMenu:A}=i,{available:B=!1}=i,{onlyOnPatreon:ee=!1}=i;const{elements:{trigger:V,content:ie,arrow:oe},states:{open:ue}}=du({openDelay:0});return Lt(r,V,q=>u(8,C=q)),Lt(r,ie,q=>u(10,R=q)),Lt(r,oe,q=>u(11,j=q)),Lt(r,ue,q=>u(9,I=q)),r.$$set=q=>{"chapter"in q&&u(16,T=q.chapter),"isCurrent"in q&&u(0,S=q.isCurrent),"name"in q&&u(1,K=q.name),"hideMenu"in q&&u(2,A=q.hideMenu),"available"in q&&u(3,B=q.available),"onlyOnPatreon"in q&&u(4,ee=q.onlyOnPatreon)},r.$$.update=()=>{r.$$.dirty&65536&&u(5,a=parseInt(T)),r.$$.dirty&32&&m(u(7,l=Ga(()=>Lo.chapters.get(a)))),r.$$.dirty&131080&&u(6,d=h!=null&&h.read?"fa-solid:book-open":B?"fa:book":"fa-hourglass-half")},[S,K,A,B,ee,a,d,l,C,I,R,j,V,ie,oe,ue,T,h]}class ze extends er{constructor(i){super(),tr(this,i,vu,yu,On,{chapter:16,isCurrent:0,name:1,hideMenu:2,available:3,onlyOnPatreon:4})}}function gu(r){let i,u,a,l,d,h,v,m="LazyVim for Ambitious Developers",C,I,R='<li class="svelte-75sti2"><a href="/" class="svelte-75sti2"><iconify-icon icon="fa:home" class="svelte-75sti2"></iconify-icon> Home</a></li> <li class="svelte-75sti2"><a href="/course/purchase/" class="svelte-75sti2"><iconify-icon icon="fa-solid:donate" class="svelte-75sti2"></iconify-icon>Purchase and Support</a></li> <li class="svelte-75sti2"><a href="/course/subscribe/" class="svelte-75sti2"><iconify-icon icon="fa-solid:envelope" class="svelte-75sti2"></iconify-icon> Updates</a></li> <li class="svelte-75sti2"><a href="/course/errata/" class="svelte-75sti2"><iconify-icon icon="fa-solid:pen-fancy" class="svelte-75sti2"></iconify-icon> Errata</a></li> <li class="svelte-75sti2"><a href="/course/colophon/" class="svelte-75sti2"><iconify-icon icon="fa-solid:info-circle" class="svelte-75sti2"></iconify-icon> Colophon</a></li>',j,T,S="Table of Contents",K,A,B,ee,V,ie,oe,ue,q,de,ae,ye,pe,Y,L,se,he,te,J,ce,Z,be,we,Me,Le,gt,Xe,dt,nt,Dn,ne,an,ut,De,rt,$n,Qe,In,bt,Rn,wt,_t,it,Mn;return B=new ze({props:{available:!0,chapter:"1",name:"Introduction and Installation",isCurrent:r[0]==="1",hideMenu:r[2]}}),V=new ze({props:{available:!0,chapter:"2",name:"Modal Editing",isCurrent:r[0]==="2",hideMenu:r[2]}}),oe=new ze({props:{available:!0,chapter:"3",name:"Getting Around",isCurrent:r[0]==="3",hideMenu:r[2]}}),q=new ze({props:{available:!0,chapter:"4",name:"Opening Files",isCurrent:r[0]==="4",hideMenu:r[2]}}),ae=new ze({props:{available:!0,chapter:"5",name:"Plugin Basics",isCurrent:r[0]==="5",hideMenu:r[2]}}),pe=new ze({props:{available:!0,chapter:"6",name:"Basic Editing",isCurrent:r[0]==="6",hideMenu:r[2]}}),L=new ze({props:{available:!0,chapter:"7",name:"Objects and Operator-pending mode",isCurrent:r[0]==="7",hideMenu:r[2]}}),he=new ze({props:{available:!0,chapter:"8",name:"Clipboard, Registers, and Visual Modes",isCurrent:r[0]==="8",hideMenu:r[2]}}),J=new ze({props:{available:!0,chapter:"9",name:"Buffers, Windows, Tabs, and Sessions",isCurrent:r[0]==="9",hideMenu:r[2]}}),Z=new ze({props:{available:!0,chapter:"10",name:"Programming Language Support",isCurrent:r[0]==="10",hideMenu:r[2]}}),we=new ze({props:{available:!0,chapter:"11",name:"Navigating Between Source Files",isCurrent:r[0]==="11",hideMenu:r[2]}}),Le=new ze({props:{available:!0,chapter:"12",name:"Searching...",isCurrent:r[0]==="12",hideMenu:r[2]}}),Xe=new ze({props:{available:!0,chapter:"13",name:"...and Replacing",isCurrent:r[0]==="13",hideMenu:r[2]}}),nt=new ze({props:{available:!0,chapter:"14",name:"Miscellaneous Editing Tips",isCurrent:r[0]==="14",hideMenu:r[2]}}),ne=new ze({props:{available:!0,chapter:"15",name:"Source Control",isCurrent:r[0]==="15",hideMenu:r[2]}}),ut=new ze({props:{available:!0,chapter:"16",name:"Configuring AI",isCurrent:r[0]==="16",hideMenu:r[2]}}),rt=new ze({props:{available:!0,chapter:"17",name:"Debugging",isCurrent:r[0]==="17",hideMenu:r[2]}}),Qe=new ze({props:{available:!0,chapter:"18",name:"Testing",isCurrent:r[0]==="18",hideMenu:r[2]}}),bt=new ze({props:{available:!0,chapter:"19",name:"Comprehensive Guide to Plugin Configuration",isCurrent:r[0]==="19",hideMenu:r[2]}}),wt=new ze({props:{available:!0,chapter:"20",name:"Where To Go Next",isCurrent:r[0]==="20",hideMenu:r[2]}}),{c(){i=Ae("button"),u=Ae("iconify-icon"),l=at(` LazyVim For
	Ambitious Developers`),d=Ee(),h=Ae("nav"),v=Ae("h1"),v.textContent=m,C=Ee(),I=Ae("ul"),I.innerHTML=R,j=Ee(),T=Ae("h2"),T.textContent=S,K=Ee(),A=Ae("ul"),Fe(B.$$.fragment),ee=Ee(),Fe(V.$$.fragment),ie=Ee(),Fe(oe.$$.fragment),ue=Ee(),Fe(q.$$.fragment),de=Ee(),Fe(ae.$$.fragment),ye=Ee(),Fe(pe.$$.fragment),Y=Ee(),Fe(L.$$.fragment),se=Ee(),Fe(he.$$.fragment),te=Ee(),Fe(J.$$.fragment),ce=Ee(),Fe(Z.$$.fragment),be=Ee(),Fe(we.$$.fragment),Me=Ee(),Fe(Le.$$.fragment),gt=Ee(),Fe(Xe.$$.fragment),dt=Ee(),Fe(nt.$$.fragment),Dn=Ee(),Fe(ne.$$.fragment),an=Ee(),Fe(ut.$$.fragment),De=Ee(),Fe(rt.$$.fragment),$n=Ee(),Fe(Qe.$$.fragment),In=Ee(),Fe(bt.$$.fragment),Rn=Ee(),Fe(wt.$$.fragment),this.h()},l(H){i=Pe(H,"BUTTON",{class:!0});var Te=Re(i);u=Pe(Te,"ICONIFY-ICON",{icon:!0}),Re(u).forEach(le),l=st(Te,` LazyVim For
	Ambitious Developers`),Te.forEach(le),d=Oe(H),h=Pe(H,"NAV",{class:!0});var Ye=Re(h);v=Pe(Ye,"H1",{class:!0,"data-svelte-h":!0}),Un(v)!=="svelte-vrllfn"&&(v.textContent=m),C=Oe(Ye),I=Pe(Ye,"UL",{class:!0,"data-svelte-h":!0}),Un(I)!=="svelte-138rj3a"&&(I.innerHTML=R),j=Oe(Ye),T=Pe(Ye,"H2",{class:!0,"data-svelte-h":!0}),Un(T)!=="svelte-a010b9"&&(T.textContent=S),K=Oe(Ye),A=Pe(Ye,"UL",{class:!0});var fe=Re(A);Be(B.$$.fragment,fe),ee=Oe(fe),Be(V.$$.fragment,fe),ie=Oe(fe),Be(oe.$$.fragment,fe),ue=Oe(fe),Be(q.$$.fragment,fe),de=Oe(fe),Be(ae.$$.fragment,fe),ye=Oe(fe),Be(pe.$$.fragment,fe),Y=Oe(fe),Be(L.$$.fragment,fe),se=Oe(fe),Be(he.$$.fragment,fe),te=Oe(fe),Be(J.$$.fragment,fe),ce=Oe(fe),Be(Z.$$.fragment,fe),be=Oe(fe),Be(we.$$.fragment,fe),Me=Oe(fe),Be(Le.$$.fragment,fe),gt=Oe(fe),Be(Xe.$$.fragment,fe),dt=Oe(fe),Be(nt.$$.fragment,fe),Dn=Oe(fe),Be(ne.$$.fragment,fe),an=Oe(fe),Be(ut.$$.fragment,fe),De=Oe(fe),Be(rt.$$.fragment,fe),$n=Oe(fe),Be(Qe.$$.fragment,fe),In=Oe(fe),Be(bt.$$.fragment,fe),Rn=Oe(fe),Be(wt.$$.fragment,fe),fe.forEach(le),Ye.forEach(le),this.h()},h(){rn(u,"icon",a=r[1]?"fa-solid:times":"fa-solid:bars"),ge(i,"class","hamburger svelte-75sti2"),ge(v,"class","svelte-75sti2"),ge(I,"class","svelte-75sti2"),ge(T,"class","svelte-75sti2"),ge(A,"class","svelte-75sti2"),ge(h,"class","svelte-75sti2"),ot(h,"menuVisible",r[1])},m(H,Te){Ge(H,i,Te),Q(i,u),Q(i,l),Ge(H,d,Te),Ge(H,h,Te),Q(h,v),Q(h,C),Q(h,I),Q(h,j),Q(h,T),Q(h,K),Q(h,A),Ne(B,A,null),Q(A,ee),Ne(V,A,null),Q(A,ie),Ne(oe,A,null),Q(A,ue),Ne(q,A,null),Q(A,de),Ne(ae,A,null),Q(A,ye),Ne(pe,A,null),Q(A,Y),Ne(L,A,null),Q(A,se),Ne(he,A,null),Q(A,te),Ne(J,A,null),Q(A,ce),Ne(Z,A,null),Q(A,be),Ne(we,A,null),Q(A,Me),Ne(Le,A,null),Q(A,gt),Ne(Xe,A,null),Q(A,dt),Ne(nt,A,null),Q(A,Dn),Ne(ne,A,null),Q(A,an),Ne(ut,A,null),Q(A,De),Ne(rt,A,null),Q(A,$n),Ne(Qe,A,null),Q(A,In),Ne(bt,A,null),Q(A,Rn),Ne(wt,A,null),_t=!0,it||(Mn=Ci(i,"click",r[4]),it=!0)},p(H,[Te]){(!_t||Te&2&&a!==(a=H[1]?"fa-solid:times":"fa-solid:bars"))&&rn(u,"icon",a);const Ye={};Te&1&&(Ye.isCurrent=H[0]==="1"),B.$set(Ye);const fe={};Te&1&&(fe.isCurrent=H[0]==="2"),V.$set(fe);const sn={};Te&1&&(sn.isCurrent=H[0]==="3"),oe.$set(sn);const Rt={};Te&1&&(Rt.isCurrent=H[0]==="4"),q.$set(Rt);const un={};Te&1&&(un.isCurrent=H[0]==="5"),ae.$set(un);const Yt={};Te&1&&(Yt.isCurrent=H[0]==="6"),pe.$set(Yt);const xt={};Te&1&&(xt.isCurrent=H[0]==="7"),L.$set(xt);const Gt={};Te&1&&(Gt.isCurrent=H[0]==="8"),he.$set(Gt);const cn={};Te&1&&(cn.isCurrent=H[0]==="9"),J.$set(cn);const pt={};Te&1&&(pt.isCurrent=H[0]==="10"),Z.$set(pt);const re={};Te&1&&(re.isCurrent=H[0]==="11"),we.$set(re);const Mt={};Te&1&&(Mt.isCurrent=H[0]==="12"),Le.$set(Mt);const kt={};Te&1&&(kt.isCurrent=H[0]==="13"),Xe.$set(kt);const Xt={};Te&1&&(Xt.isCurrent=H[0]==="14"),nt.$set(Xt);const G={};Te&1&&(G.isCurrent=H[0]==="15"),ne.$set(G);const ln={};Te&1&&(ln.isCurrent=H[0]==="16"),ut.$set(ln);const jn={};Te&1&&(jn.isCurrent=H[0]==="17"),rt.$set(jn);const fn={};Te&1&&(fn.isCurrent=H[0]==="18"),Qe.$set(fn);const Kn={};Te&1&&(Kn.isCurrent=H[0]==="19"),bt.$set(Kn);const dn={};Te&1&&(dn.isCurrent=H[0]==="20"),wt.$set(dn),(!_t||Te&2)&&ot(h,"menuVisible",H[1])},i(H){_t||(_e(B.$$.fragment,H),_e(V.$$.fragment,H),_e(oe.$$.fragment,H),_e(q.$$.fragment,H),_e(ae.$$.fragment,H),_e(pe.$$.fragment,H),_e(L.$$.fragment,H),_e(he.$$.fragment,H),_e(J.$$.fragment,H),_e(Z.$$.fragment,H),_e(we.$$.fragment,H),_e(Le.$$.fragment,H),_e(Xe.$$.fragment,H),_e(nt.$$.fragment,H),_e(ne.$$.fragment,H),_e(ut.$$.fragment,H),_e(rt.$$.fragment,H),_e(Qe.$$.fragment,H),_e(bt.$$.fragment,H),_e(wt.$$.fragment,H),_t=!0)},o(H){Se(B.$$.fragment,H),Se(V.$$.fragment,H),Se(oe.$$.fragment,H),Se(q.$$.fragment,H),Se(ae.$$.fragment,H),Se(pe.$$.fragment,H),Se(L.$$.fragment,H),Se(he.$$.fragment,H),Se(J.$$.fragment,H),Se(Z.$$.fragment,H),Se(we.$$.fragment,H),Se(Le.$$.fragment,H),Se(Xe.$$.fragment,H),Se(nt.$$.fragment,H),Se(ne.$$.fragment,H),Se(ut.$$.fragment,H),Se(rt.$$.fragment,H),Se(Qe.$$.fragment,H),Se(bt.$$.fragment,H),Se(wt.$$.fragment,H),_t=!1},d(H){H&&(le(i),le(d),le(h)),qe(B),qe(V),qe(oe),qe(q),qe(ae),qe(pe),qe(L),qe(he),qe(J),qe(Z),qe(we),qe(Le),qe(Xe),qe(nt),qe(ne),qe(ut),qe(rt),qe(Qe),qe(bt),qe(wt),it=!1,Mn()}}}function bu(r,i,u){let a;Lt(r,No,I=>u(3,a=I));let l=null,d=null,h=!1;function v(){u(1,h=!1)}function m(I){d&&clearTimeout(d),I!==null&&(d=setTimeout(()=>{Lo.chapters.put({id:parseInt(I),read:new Date})},5e3))}const C=()=>u(1,h=!h);return r.$$.update=()=>{r.$$.dirty&8&&u(0,l=Vo(a.url.pathname)),r.$$.dirty&1&&m(l)},[l,h,v,a,C]}class wu extends er{constructor(i){super(),tr(this,i,bu,gu,On,{})}}function Ao(r,i,u){const a=r.slice();a[5]=i[u],a[8]=u;const l=a[4](a[5].id);return a[6]=l,a}function Po(r){let i=[],u=new Map,a,l,d=fo(r[0]);const h=v=>v[8];for(let v=0;v<d.length;v+=1){let m=Ao(r,d,v),C=h(m);u.set(C,i[v]=To(C,m))}return{c(){for(let v=0;v<i.length;v+=1)i[v].c();a=Rr()},l(v){for(let m=0;m<i.length;m+=1)i[m].l(v);a=Rr()},m(v,m){for(let C=0;C<i.length;C+=1)i[C]&&i[C].m(v,m);Ge(v,a,m),l=!0},p(v,m){m&31&&(d=fo(v[0]),Cn(),i=za(i,m,h,1,v,d,u,a.parentNode,Ha,To,a,Ao),An())},i(v){if(!l){for(let m=0;m<d.length;m+=1)_e(i[m]);l=!0}},o(v){for(let m=0;m<i.length;m+=1)Se(i[m]);l=!1},d(v){v&&le(a);for(let m=0;m<i.length;m+=1)i[m].d(v)}}}function So(r){let i,u;return i=new na({props:{tree:r[5].children,level:r[3]+1,activeHeadingIdxs:r[1],item:r[2]}}),{c(){Fe(i.$$.fragment)},l(a){Be(i.$$.fragment,a)},m(a,l){Ne(i,a,l),u=!0},p(a,l){const d={};l&1&&(d.tree=a[5].children),l&8&&(d.level=a[3]+1),l&2&&(d.activeHeadingIdxs=a[1]),l&4&&(d.item=a[2]),i.$set(d)},i(a){u||(_e(i.$$.fragment,a),u=!0)},o(a){Se(i.$$.fragment,a),u=!1},d(a){qe(i,a)}}}function To(r,i){let u,a,l=i[5].title+"",d,h,v,m,C,I,R,j=[{href:h="#"+i[5].id},i[6]],T={};for(let K=0;K<j.length;K+=1)T=$r(T,j[K]);let S=i[5].children&&i[5].children.length&&So(i);return{key:r,first:null,c(){u=Ae("li"),a=Ae("a"),d=at(l),v=Ee(),S&&S.c(),m=Ee(),this.h()},l(K){u=Pe(K,"LI",{class:!0});var A=Re(u);a=Pe(A,"A",{href:!0});var B=Re(a);d=st(B,l),B.forEach(le),v=Oe(A),S&&S.l(A),m=Oe(A),A.forEach(le),this.h()},h(){Vt(a,T),ot(a,"svelte-jfmvq8",!0),ge(u,"class","svelte-jfmvq8"),this.first=u},m(K,A){Ge(K,u,A),Q(u,a),Q(a,d),Q(u,v),S&&S.m(u,null),Q(u,m),C=!0,I||(R=Ir(i[6].action(a)),I=!0)},p(K,A){i=K,(!C||A&1)&&l!==(l=i[5].title+"")&&Na(d,l,T.contenteditable),Vt(a,T=Mr(j,[(!C||A&1&&h!==(h="#"+i[5].id))&&{href:h},A&17&&i[6]])),ot(a,"svelte-jfmvq8",!0),i[5].children&&i[5].children.length?S?(S.p(i,A),A&1&&_e(S,1)):(S=So(i),S.c(),_e(S,1),S.m(u,m)):S&&(Cn(),Se(S,1,1,()=>{S=null}),An())},i(K){C||(_e(S),C=!0)},o(K){Se(S),C=!1},d(K){K&&le(u),S&&S.d(),I=!1,R()}}}function _u(r){let i,u,a=r[0]&&r[0].length&&Po(r);return{c(){i=Ae("ul"),a&&a.c(),this.h()},l(l){i=Pe(l,"UL",{class:!0});var d=Re(i);a&&a.l(d),d.forEach(le),this.h()},h(){ge(i,"class","svelte-jfmvq8")},m(l,d){Ge(l,i,d),a&&a.m(i,null),u=!0},p(l,[d]){l[0]&&l[0].length?a?(a.p(l,d),d&1&&_e(a,1)):(a=Po(l),a.c(),_e(a,1),a.m(i,null)):a&&(Cn(),Se(a,1,1,()=>{a=null}),An())},i(l){u||(_e(a),u=!0)},o(l){Se(a),u=!1},d(l){l&&le(i),a&&a.d()}}}function xu(r,i,u){let a,l=Jn,d=()=>(l(),l=Fo(m,I=>u(4,a=I)),m);r.$$.on_destroy.push(()=>l());let{tree:h=[]}=i,{activeHeadingIdxs:v}=i,{item:m}=i;d();let{level:C=1}=i;return r.$$set=I=>{"tree"in I&&u(0,h=I.tree),"activeHeadingIdxs"in I&&u(1,v=I.activeHeadingIdxs),"item"in I&&d(u(2,m=I.item)),"level"in I&&u(3,C=I.level)},[h,v,m,C,a]}class na extends er{constructor(i){super(),tr(this,i,xu,_u,On,{tree:0,activeHeadingIdxs:1,item:2,level:3})}}function Do(r){let i,u;return i=new na({props:{tree:r[0],activeHeadingIdxs:r[1],item:r[2]}}),{c(){Fe(i.$$.fragment)},l(a){Be(i.$$.fragment,a)},m(a,l){Ne(i,a,l),u=!0},p(a,l){const d={};l&1&&(d.tree=a[0]),l&2&&(d.activeHeadingIdxs=a[1]),i.$set(d)},i(a){u||(_e(i.$$.fragment,a),u=!0)},o(a){Se(i.$$.fragment,a),u=!1},d(a){qe(i,a)}}}function ku(r){let i,u=r[0],a,l=Do(r);return{c(){i=Ae("nav"),l.c(),this.h()},l(d){i=Pe(d,"NAV",{class:!0});var h=Re(i);l.l(h),h.forEach(le),this.h()},h(){ge(i,"class","svelte-vhkor6")},m(d,h){Ge(d,i,h),l.m(i,null),a=!0},p(d,[h]){h&1&&On(u,u=d[0])?(Cn(),Se(l,1,1,Jn),An(),l=Do(d),l.c(),_e(l,1),l.m(i,null)):l.p(d,h)},i(d){a||(_e(l),a=!0)},o(d){Se(l),a=!1},d(d){d&&le(i),l.d(d)}}}function Eu(r,i,u){let a,l;const{elements:{item:d},states:{activeHeadingIdxs:h,headingsTree:v}}=cu({selector:"main",exclude:["h1"],activeType:"all",scrollFn:m=>{const C=document.getElementById(m);C&&C.scrollIntoView({behavior:"smooth"})}});return Lt(r,h,m=>u(1,l=m)),Lt(r,v,m=>u(0,a=m)),[a,l,d,h,v]}class Ou extends er{constructor(i){super(),tr(this,i,Eu,ku,On,{})}}function $o(r){let i,u;return i=new Ou({}),{c(){Fe(i.$$.fragment)},l(a){Be(i.$$.fragment,a)},m(a,l){Ne(i,a,l),u=!0},i(a){u||(_e(i.$$.fragment,a),u=!0)},o(a){Se(i.$$.fragment,a),u=!1},d(a){qe(i,a)}}}function Io(r){let i,u;return{c(){i=Ae("a"),u=at("Previous"),this.h()},l(a){i=Pe(a,"A",{rel:!0,href:!0,style:!0,class:!0});var l=Re(i);u=st(l,"Previous"),l.forEach(le),this.h()},h(){ge(i,"rel","prev"),ge(i,"href",r[3]),_i(i,"padding-right","20px"),ge(i,"class","svelte-ozs54r")},m(a,l){Ge(a,i,l),Q(i,u)},p(a,l){l&8&&ge(i,"href",a[3])},d(a){a&&le(i)}}}function Ro(r){let i,u;return{c(){i=Ae("a"),u=at("Next"),this.h()},l(a){i=Pe(a,"A",{rel:!0,href:!0,class:!0});var l=Re(i);u=st(l,"Next"),l.forEach(le),this.h()},h(){ge(i,"rel","next"),ge(i,"href",r[2]),ge(i,"class","svelte-ozs54r")},m(a,l){Ge(a,i,l),Q(i,u)},p(a,l){l&4&&ge(i,"href",a[2])},d(a){a&&le(i)}}}function Mo(r){let i,u=`<h2 class="svelte-ozs54r">Reminder</h2> <p class="svelte-ozs54r">This book is freely available. It contains a textbook&#39;s worth of material. If you are
						deriving value from this content, I really appreciate any support you can give (both to
						me, and to those who can&#39;t afford to give it) by purchasing a copy of the book or
						through donation. <a href="/course/purchase/" class="svelte-ozs54r">Click here</a> to see various purchase and
						donation options.</p>`;return{c(){i=Ae("div"),i.innerHTML=u,this.h()},l(a){i=Pe(a,"DIV",{class:!0,"data-svelte-h":!0}),Un(i)!=="svelte-tth8rs"&&(i.innerHTML=u),this.h()},h(){ge(i,"class","notice svelte-ozs54r")},m(a,l){Ge(a,i,l)},d(a){a&&le(i)}}}function Cu(r){let i,u,a,l,d,h,v,m,C,I,R,j,T,S,K,A,B,ee,V,ie,oe="Copyright © 2024 Dusty Phillips",ue;document.title=i=r[1].data.title+" - LazyVim for Ambitious Developers",m=new wu({});const q=r[6].default,de=Ma(q,r,r[5],null);let ae=r[0]&&$o(),ye=r[3]&&Io(r),pe=r[2]&&Ro(r),Y=r[0]&&Mo();return{c(){u=Ae("meta"),l=Ae("meta"),h=Ee(),v=Ae("div"),Fe(m.$$.fragment),C=Ee(),I=Ae("div"),R=Ae("main"),j=Ae("div"),de&&de.c(),T=Ee(),ae&&ae.c(),S=Ee(),K=Ae("footer"),A=Ae("div"),ye&&ye.c(),B=Ee(),pe&&pe.c(),ee=Ee(),Y&&Y.c(),V=Ee(),ie=Ae("p"),ie.textContent=oe,this.h()},l(L){const se=qa("svelte-16azb9n",document.head);u=Pe(se,"META",{name:!0,content:!0}),l=Pe(se,"META",{name:!0,content:!0}),se.forEach(le),h=Oe(L),v=Pe(L,"DIV",{class:!0});var he=Re(v);Be(m.$$.fragment,he),C=Oe(he),I=Pe(he,"DIV",{class:!0});var te=Re(I);R=Pe(te,"MAIN",{class:!0});var J=Re(R);j=Pe(J,"DIV",{});var ce=Re(j);de&&de.l(ce),ce.forEach(le),T=Oe(J),ae&&ae.l(J),J.forEach(le),S=Oe(te),K=Pe(te,"FOOTER",{class:!0});var Z=Re(K);A=Pe(Z,"DIV",{class:!0});var be=Re(A);ye&&ye.l(be),B=Oe(be),pe&&pe.l(be),be.forEach(le),ee=Oe(Z),Y&&Y.l(Z),V=Oe(Z),ie=Pe(Z,"P",{style:!0,class:!0,"data-svelte-h":!0}),Un(ie)!=="svelte-7nkks1"&&(ie.textContent=oe),Z.forEach(le),te.forEach(le),he.forEach(le),this.h()},h(){ge(u,"name","description"),ge(u,"content",a=r[1].data.description),ge(l,"name","keywords"),ge(l,"content",d=r[1].data.keywords),ge(R,"class","svelte-ozs54r"),ge(A,"class","footer-links svelte-ozs54r"),_i(ie,"font-size","var(--font-size-0)"),_i(ie,"padding-top","var(--size-1)"),ge(ie,"class","svelte-ozs54r"),ge(K,"class","svelte-ozs54r"),ge(I,"class","content svelte-ozs54r"),ge(v,"class","container svelte-ozs54r")},m(L,se){Q(document.head,u),Q(document.head,l),Ge(L,h,se),Ge(L,v,se),Ne(m,v,null),Q(v,C),Q(v,I),Q(I,R),Q(R,j),de&&de.m(j,null),Q(R,T),ae&&ae.m(R,null),Q(I,S),Q(I,K),Q(K,A),ye&&ye.m(A,null),Q(A,B),pe&&pe.m(A,null),Q(K,ee),Y&&Y.m(K,null),Q(K,V),Q(K,ie),r[7](I),ue=!0},p(L,[se]){(!ue||se&2)&&i!==(i=L[1].data.title+" - LazyVim for Ambitious Developers")&&(document.title=i),(!ue||se&2&&a!==(a=L[1].data.description))&&ge(u,"content",a),(!ue||se&2&&d!==(d=L[1].data.keywords))&&ge(l,"content",d),de&&de.p&&(!ue||se&32)&&ja(de,q,L,L[5],ue?Fa(q,L[5],se,null):Ka(L[5]),null),L[0]?ae?se&1&&_e(ae,1):(ae=$o(),ae.c(),_e(ae,1),ae.m(R,null)):ae&&(Cn(),Se(ae,1,1,()=>{ae=null}),An()),L[3]?ye?ye.p(L,se):(ye=Io(L),ye.c(),ye.m(A,B)):ye&&(ye.d(1),ye=null),L[2]?pe?pe.p(L,se):(pe=Ro(L),pe.c(),pe.m(A,null)):pe&&(pe.d(1),pe=null),L[0]?Y||(Y=Mo(),Y.c(),Y.m(K,V)):Y&&(Y.d(1),Y=null)},i(L){ue||(_e(m.$$.fragment,L),_e(de,L),_e(ae),ue=!0)},o(L){Se(m.$$.fragment,L),Se(de,L),Se(ae),ue=!1},d(L){L&&(le(h),le(v)),le(u),le(l),qe(m),de&&de.d(L),ae&&ae.d(),ye&&ye.d(),pe&&pe.d(),Y&&Y.d(),r[7](null)}}}function Au(r,i,u){let a;Lt(r,No,R=>u(1,a=R));let{$$slots:l={},$$scope:d}=i,h=null,v="",m="",C;Va(()=>{C&&u(4,C.scrollTop=0,C)});function I(R){Ba[R?"unshift":"push"](()=>{C=R,u(4,C)})}return r.$$set=R=>{"$$scope"in R&&u(5,d=R.$$scope)},r.$$.update=()=>{if(r.$$.dirty&2&&u(0,h=Vo(a.url.pathname)),r.$$.dirty&1)if(h){localStorage.setItem("lastChapter",h);const R=parseInt(h);R>1?u(3,m=`../chapter-${R-1}/`):u(3,m=""),R<20?u(2,v=`../chapter-${parseInt(h)+1}`):u(2,v="")}else u(2,v=""),u(3,m="")},[h,a,v,m,C,d,l,I]}class Hu extends er{constructor(i){super(),tr(this,i,Au,Cu,On,{})}}export{Hu as component};
